Function.prototype.bind=Function.prototype.bind||function(t){"use strict";var c,e,s,n,_;if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");return c=Array.prototype.slice,e=c.call(arguments,1),s=this,n=function(){},_=function(){return s.apply(this instanceof n?this:t||window,e.concat(c.call(arguments)))},n.prototype=this.prototype,_.prototype=new n,_},"undefined"==typeof sc_calc&&(sc_calc={}),sc_calc.lang={CATEGORY_DESKTOP:"Защита рабочих станций и серверов",CATEGORY_NET:"Защита сетевого взаимодействия",CATEGORY_VIRTUAL:"Защита виртуальных инфраструктур",CATEGORY_MOBILE:"Защита мобильных устройств",MDM_UP_TO_25:"До 25",ERROR_OCCURED:"Произошла ошибка...",EMAIL_SENT:"Письмо отправлено!",REQUEST_SENT:"Спасибо! Ваша заявка принята. Наши сотрудники свяжутся с Вами в ближайшее время",CITY_CANT_BE_EMPTY:"Город не указан!",CITY_HAS_NO_PARTNERS:"Похоже, в Вашем городе нет партнеров... Выберите, пожалуйста, ближайшего к Вам.",PARTNER_SERVICE_WAIT:"Ищем партнеров...",PARTNER_SERVICE_FAIL:"Не удалось найти партнеров в Вашем городе",PARNER_SERVICE_RESULT_EMPTY:"Не удалось найти партнеров"},"undefined"==typeof sc_calc&&(sc_calc={}),sc_calc.basket_item=function(){"use strict";Object.defineProperty(this,"depends_upon",{value:[],enumerable:!0,configurable:!1,writable:!1})},sc_calc.basket_item.prototype.id=null,sc_calc.basket_item.prototype.sn=null,sc_calc.basket_item.prototype.name=null,sc_calc.basket_item.prototype.descr=null,sc_calc.basket_item.prototype.q=null,sc_calc.basket_item.prototype.depends_upon=null,sc_calc.basket_item.prototype.can_delete=!0,sc_calc.basket_item.prototype.price=null,sc_calc.basket_item.prototype.sum=null,sc_calc.basket_item.prototype.support=null,sc_calc.basket_item.prototype.has_support=!0,sc_calc.basket_item.prototype.recalculate=null,sc_calc.basket_item.prototype.is_not_support=function(){"use strict";return null===this.support||void 0===this.support},"undefined"==typeof sc_calc&&(sc_calc={}),sc_calc.calc_category=function(t,c,e){"use strict";this.name=t,this.order=c,this.code=e},sc_calc.CATEGORIES={DESKTOP:new sc_calc.calc_category(sc_calc.lang.CATEGORY_DESKTOP,1,"DESKTOP"),NET:new sc_calc.calc_category(sc_calc.lang.CATEGORY_NET,2,"NET"),VIRTUAL:new sc_calc.calc_category(sc_calc.lang.CATEGORY_VIRTUAL,3,"VIRTUAL"),MOBILE:new sc_calc.calc_category(sc_calc.lang.CATEGORY_MOBILE,4,"MOBILE")},"undefined"==typeof sc_calc&&(sc_calc={}),sc_calc.License=function(t,c,e,s){"use strict";chai.expect(arguments).to.be.lengthOf(4),this.code=t,this.name=c,this.price=e,this.descr=s},"undefined"==typeof sc_calc&&(sc_calc={}),sc_calc.support_type=function(t,c,e,s,n,_,i){"use strict";this.code=t,this.shortname=c,this.name=e,this.postfix=s,this.rule_descr=n,this.rule=_,this.descr=i},sc_calc.SUPPORT_TYPES=[new sc_calc.support_type(0,"Базовая","Базовая","","Бесплатно",function(){"use strict";return 0},""),new sc_calc.support_type(1,"Стандартная",'Ключ активации сервиса прямой технической поддержки уровня "Стандартный"',"-Sup-Dir-St","20%",function(t){"use strict";return.2*t},'Техническая поддержка оказывается службой технической поддержки ООО "Код Безопасности".\r\n\r\nВключает возможность получения консультаций по электронной почте и телефону.\r\nВключает получение пакетов обновления для продукта.'),new sc_calc.support_type(2,"Расширенная",'Ключ активации сервиса прямой технической поддержки уровня "Расширенный"',"-Sup-Dir-Ext","30%",function(t){"use strict";return.3*t},'Техническая поддержка оказывается службой технической поддержки ООО "Код Безопасности".\r\n\r\nРабота над критичными инцидентами в режиме 24*7. \r\nСпециальные условия на приобретение новых версий продукта.'),new sc_calc.support_type(3,"VIP",'Ключ активации сервиса прямой технической поддержки уровня "VIP"',"-Sup-Dir-VIP","30% + 3 000 000",function(t){"use strict";return.3*t+3e6},'Техническая поддержка оказывается службой технической поддержки ООО "Код Безопасности". \r\n\r\nВыделенный инженер. \r\nВключено 100 плановых выездов на площадку заказчика.'),new sc_calc.support_type(4,"Совместная стандартная",'Ключ активации сервиса совместной технической поддержки уровня "Стандартный"',"-Sup-Co-St","18%",function(t){"use strict";return.18*t},'Техническая поддержка оказывается авторизованным сервисным партнером ООО "Код Безопасности". Партнер обеспечивает первую линию поддержки. В сложных случаях инцидент передается в службу ТП ООО "Код Безопасности". \r\n\r\nВключает получение пакетов обновления для продукта.'),new sc_calc.support_type(5,"Совместная расширенная",'Ключ активации сервиса совместной технической поддержки уровня "Расширенный"',"-Sup-Co-Ext","25%",function(t){"use strict";return.25*t},'Техническая поддержка оказывается авторизованным сервисным партнером ООО "Код Безопасности". Партнер обеспечивает первую линию поддержки. В сложных случаях инцидент передается в службу ТП ООО "Код Безопасности".\r\n\r\nСпециальные условия на приобретение новых версий продукта.')],sc_calc.visibilator=function(t,c,e){"use strict";this.obs=t,this.obsArray=c,this.disablator=e,_.forEach(this.obsArray(),function(t){t.disable=ko.observable(!1),Object.defineProperty(t,"enable",{get:function(){return!this.disable()},enumerable:!0,configurable:!0})})},sc_calc.visibilator.prototype._apply_option_disable=function(t){"use strict";t.disable(this.disablator(t))},sc_calc.visibilator.prototype.recalc_visibility=function(){"use strict";var t;_.forEach(this.obsArray(),this._apply_option_disable.bind(this)),this.obs()&&this.obs().disable()&&(t=_.find(this.obsArray(),["enable",!0]),this.obs(t))},"undefined"==typeof sc_calc&&(sc_calc={}),sc_calc.base_calc=function(t){"use strict";this.category=t,this.post_render_option=function(t,c){ko.applyBindingsToNode(t,{disable:c.disable},c)}.bind(this)},sc_calc.base_calc.prototype.support_types=sc_calc.SUPPORT_TYPES,sc_calc.base_calc.prototype.code=null,sc_calc.base_calc.prototype.name=null,sc_calc.base_calc.prototype.support_prefix=null,sc_calc.base_calc.prototype.SPOILER="***",sc_calc.base_calc.prototype.to_cents=function(t){"use strict";return parseFloat(t.toFixed(2))},sc_calc.base_calc.prototype._asInt=function(t,c){"use strict";var e;return void 0===c&&(c=0),e=parseInt(t,10),isNaN(e)?c:e},sc_calc.base_calc.prototype._asPositiveInt=function(t){"use strict";var c=this._asInt(t,-1);return c<0?0:c},sc_calc.base_calc.prototype._split_price_with_spaces=function(t){"use strict";var c,e="",s=""+sc_calc.base_calc.prototype.to_cents(t),n=s.indexOf("."),_="";for(n>-1&&(_=s.substr(n+1),s=s.substr(0,n)),c=0;c<s.length;c++)e=s[s.length-1-c]+e,(c+1)%3==0&&(e=" "+e);return _.length>0?e=e+"."+_+(1===_.length?"0":""):e+=".00",e},sc_calc.base_calc.prototype.add_roubles=function(t){"use strict";return/[^0-9\.]+/.test(t)?t:sc_calc.base_calc.prototype._split_price_with_spaces(t)+" руб."},sc_calc.base_calc.prototype.add_roubles_per_year=function(t){"use strict";return this._split_price_with_spaces(t)+" руб./год"},sc_calc.base_calc.prototype._restrict_value_as_positive_int=function(t){"use strict";t.subscribe(function(c){t(this._asPositiveInt(c))}.bind(this))},sc_calc.base_calc.prototype.on_add_result=null,sc_calc.base_calc.prototype.prepare_for_cruel_world=function(t){"use strict";var c=this._get_uid();_.forEach(t,function(t){t.group=c})},sc_calc.base_calc.prototype.notify_result=function(){"use strict";var t;this.on_add_result&&(t=this._emit_items(),this.prepare_for_cruel_world(t),this.on_add_result(t))},sc_calc.base_calc.prototype.is_ready_to_dump=function(){"use strict";throw Error("is_ready_to_dump not implemented!")},sc_calc.base_calc.prototype._emit_items=function(){"use strict";throw Error("_emit_items not implemented!")},sc_calc.base_calc.prototype._get_uid=function(){"use strict";return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var c=16*Math.random()|0;return("x"===t?c:3&c|8).toString(16)})},sc_calc.base_calc.prototype._not_null_or_undefined=function(t){"use strict";return null!==t&&void 0!==t},sc_calc.base_calc.prototype.get_price_list=function(){"use strict";throw Error("get_price_list not implemented!")},sc_calc.base_calc.prototype._prepare_usual=function(t,c,e){"use strict";var s,n;return chai.expect(arguments).to.be.lengthOf(3),(e=this._asPositiveInt(e))<1?null:void 0===(n=_.find(t,["code",c]))?null:(s=new sc_calc.basket_item,s.id=this._get_uid(),s.sn=n.code,s.name=n.name,s.descr=n.descr,s.price=n.price,s.q=ko.observable(e),s.sum=n.price*e,s)},sc_calc.base_calc.prototype._prepare_emit_support=function(t,c){"use strict";var e,s;return c<=0?null:void 0===(e=sc_calc.SUPPORT_TYPES[t])||0===e.code?null:(s=new sc_calc.basket_item,s.id=this._get_uid(),s.sn=this.support_prefix+e.postfix,s.name=e.name+" "+this.name,s.descr=e.descr,s.price=e.rule_descr,s.q=ko.observable(1),s.sum=c,s.support=e,s)},sc_calc.base_calc.prototype._price_numeric=function(){"use strict";throw Error("_price_numeric not implemented!")},sc_calc.base_calc.prototype._get_price_numeric=function(){"use strict";var t=this._emit_items();return _.chain(t).filter(function(t){return t.is_not_support()}).map("sum").sum().value()},sc_calc.base_calc.prototype.price=function(){"use strict";throw Error("price not implemented!")},sc_calc.base_calc.prototype._get_price=function(){"use strict";return this.add_roubles(this._price_numeric())},sc_calc.base_calc.prototype.is_ready_to_dump=function(){"use strict";throw Error("is_ready_to_dump not implemented!")},sc_calc.base_calc.prototype._get_is_ready_to_dump=function(){"use strict";return this._price_numeric()>0},sc_calc.base_calc.prototype._has_valid_property=function(t,c){"use strict";return null!==t[c]&&void 0!==t[c]},sc_calc.base_calc.prototype._has_valid_dto_property=function(t,c){"use strict";return chai.expect(t).to.be.an.instanceOf(this.dto_ctor),_.isArray(c)||(c=[c]),null!==t&&void 0!==t&&_.every(c,this._has_valid_property.bind(null,t))},sc_calc.base_calc.prototype._prepare_item=function(t,c,e,s){"use strict";var n,_;return chai.expect(arguments).to.be.lengthOf(4),chai.expect(e).to.be.an.instanceOf(this.dto_ctor),n=t(e,s),_=this._prepare_usual(c,n,s),(_||{}).recalculate=this._prepare_item.bind(this,t,c,e),_},sc_calc.base_calc.prototype.is_exclusion_from_support=function(t){"use strict";return _.indexOf(["ID-Rutoken","ID-eT72","HSEC-IPC25-MountingKit","HSEC-IPC3000F- 10GB-SFP-Optic"],t)!==-1},sc_calc.base_dto=function(t){"use strict";if(null===t||void 0===t)throw new Error("ArgumentNullException: type");this.__type=t},sc_calc.base_dto.prototype._last_part=function(t){"use strict";return null===t||void 0===t?"":t.substr(t.lastIndexOf(".")+1)},"undefined"==typeof sc_calc&&(sc_calc={}),sc_calc.auto_service=function(){"use strict";this.ready=function(t){$.ajax({method:"GET",url:"//ip-api.com/json?lang=ru",cache:!1}).done(function(c,e,s){t(c&&"city"in c?c.city:null)}).fail(function(){t(null)})}},sc_calc.partner_backend=function(t){"use strict";this.districts=ko.observableArray([]),this.subjects=ko.observableArray([]),this.cities=ko.observableArray([]),this.search=function(c,e,s){return $.ajax({cache:!1,method:"GET",dataType:"json",url:t.search+"&cityId="+c+"&page="+e+"&pageSize="+s})},this.select=function(c,e,s,n){return $.ajax({cache:!1,method:"GET",dataType:"json",url:t.select+"&cityId="+c+"&name="+e+"&page_no="+s+"&page_size="+n})},this.single=function(t){var c=_.find(this.cities(),["name",t]);return c?c:null},this._try_fetch_cities=function(){"undefined"!=typeof document&&document&&document.location&&"file:"===document.location.protocol||$.ajax({cache:!1,method:"GET",dataType:"json",url:t.cities}).done(function(t,c,e){this.districts(t.districts),this.subjects(t.subjects),this.cities(t.cities)}.bind(this))},setTimeout(function(){this._try_fetch_cities()}.bind(this),3e3)},sc_calc.partner_service=function(t,c){"use strict";var e=this;e.PAGE_SIZE=3,e.city=ko.observable(null),e.stat=ko.observable(),e.auto_service=t,e.in_process=ko.observable(!1),e.page=ko.observable(0),e.maxpage=ko.observable(1e3),e.city_candidate=ko.observable(null),e.manual_district=ko.observable(null),e.manual_subject=ko.observable(null),e.manual_city=ko.observable(null),e.manual_search_error=ko.observable(""),e.districts=c.districts,e.subjects=ko.computed(function(){return null!==e.manual_district()&&void 0!==e.manual_district()?_.filter(c.subjects(),["parentId",e.manual_district().id]):[]}),e.cities=ko.computed(function(){return null!==e.manual_subject()&&void 0!==e.manual_subject()?_.filter(c.cities(),["parentId",e.manual_subject().id]):[]}),e.partner_list_status=ko.observable(""),e.partners=ko.observableArray([]),e.partner_name=ko.observable(""),e.wait_for_auto_result_visible=ko.observable(!1),e.approve_city_candidate_visible=ko.observable(!1),e.partners_panel_visible=ko.observable(!1),e.manual_search_visible=ko.observable(!1),e.partner_list_visible=ko.observable(!1),e.current_sity_block_visible=ko.computed(function(){return null!==e.city()}),e.city_name=ko.computed(function(){return null!==e.city()?e.city().name:""}),e.go=function(){e.in_process(!0),null===e.city()?e._start_look_for_city():e._start_look_for_partners()},e.exit=function(){e.in_process(!1)},e.change_city=function(){e.city(null),e.in_process(!1),e.go()},e.approve_auto_result=function(){var t;e.approve_city_candidate_visible(!1),t=c.single(e.city_candidate()),null!==t?(e.city(t),e._start_look_for_partners()):(e.manual_search_error(sc_calc.lang.CITY_HAS_NO_PARTNERS),e.manual_search_visible(!0),e.start_manual_search())},e.start_manual_search=function(){e.approve_city_candidate_visible(!1),e.manual_search_visible(!0)},e.approve_manual_search=function(){if(!this.manual_city())return void this.manual_search_error(sc_calc.lang.CITY_CANT_BE_EMPTY);e.manual_search_error(""),e.manual_search_visible(!1),e.city(this.manual_city()),e._start_look_for_partners()},e.decline_manual_search=function(){e.manual_search_visible(!1),e.manual_search_error(""),null===e.city()&&this.in_process(!1)},e.next_page=function(){e._fetch_page(this.page()+1)},e.prev_page=function(){e._fetch_page(this.page()-1)},e.search_by_name=function(){e._start_look_for_partners()},e.clear_name=function(){e.partner_name(""),e._start_look_for_partners()},this._start_look_for_city=function(){this.wait_for_auto_result_visible(!0),this.auto_service.ready(this._auto_city_ready.bind(this))},this._auto_city_ready=function(t){this.wait_for_auto_result_visible(!1),null!==t&&(this.city_candidate(t),this.approve_city_candidate_visible(!0))},this._fetch_page=function(t){var s=null;s=""===e.partner_name()?c.search.bind(c,e.city().id):c.select.bind(c,e.city().id,e.partner_name()),s(t,e.PAGE_SIZE).done(function(c,s,n){var i=c.partners||[];i.length>0?(e.page(t),e.partner_list_status(""),_.forEach(i,function(t){t.send_partner_result=ko.observable("")}),e.partners(i),i.length<e.PAGE_SIZE&&e.maxpage(t)):(e.partners([]),e.maxpage(t-1),e.partner_list_status(sc_calc.lang.PARNER_SERVICE_RESULT_EMPTY))}).fail(function(){e.partner_list_status(sc_calc.lang.PARTNER_SERVICE_FAIL),e.partners([])})},this._start_look_for_partners=function(){e.partner_list_visible(!0),e.partner_list_status(sc_calc.lang.PARTNER_SERVICE_WAIT),e.page(0),this._fetch_page(0)},this.in_process.subscribe(function(t){!1===t&&(e.wait_for_auto_result_visible(!1),e.approve_city_candidate_visible(!1),e.partners_panel_visible(!1),e.manual_search_visible(!1),e.partner_list_visible(!1),e.page(0),e.maxpage(1e3))},this)},"undefined"==typeof sc_calc&&(sc_calc={}),sc_calc.grecaptcha=function(){"use strict";var t="",c="";return void 0===sc_calc.grecaptcha.instance&&(sc_calc.grecaptcha.instance={init:function(){c=grecaptcha.render("recaptcha_send_user_widget",{sitekey:"6Lf1jh8UAAAAAFyOdKQdYx0udPaKsXt2JmXKIt3t"}),t=grecaptcha.render("recaptcha_popup_widget",{sitekey:"6LdXeB8UAAAAAGB-PdxzB5kl3MOjLAe1u-yJzhOk"})},reset_popup:function(){grecaptcha.reset(t)},response_popup:function(){return grecaptcha.getResponse(t)},reset_send_user:function(){grecaptcha.reset(c)},response_send_user:function(){return grecaptcha.getResponse(c)}}),sc_calc.grecaptcha.instance},sc_calc.generic=function(t,c){"use strict";var e=this;e.ajax_loader='<img src="/api/sc-calc-generic/img/ajax-progress-small.gif" style="vertical-align:middle" />',e.children=ko.observableArray(t||[]),e.active_category=ko.observable(null),e.active_child=ko.observable(null),e.basket_items=ko.observableArray([]),e.categories=ko.computed(function(){return _.chain(e.children()).map(function(t){return t.category}).uniq().sortBy(function(t){return t.order}).value()},this),e.set_active_category=function(t){if(e.active_category()===t)return void e.active_category(null);e.active_category(t),null!==e.active_child()&&e.active_child().category!==t&&e.set_active_child(null)},e.visible_children=ko.computed(function(){var t=this.active_category();return null===t?this.children():_.filter(this.children(),function(c){return c.category===t})},this),e.set_active_child=function(t){if(null===t)return void this.active_child(null);if(null!==this.active_category()&&t.category!==this.active_category())throw new Error("Can't set active child with a category that differs from selected");this.active_child()===t?this.active_child(null):this.active_child(t)}.bind(this),e.drop_basket_item=function(t){function c(t){var e,s=_.difference(o,t),n=_.map(t,"id"),i=_.filter(s,function(t){var c;return 0!==t.depends_upon.length&&(c=_.differenceBy(t.depends_upon,n),0===c.length||_.difference(c,r).length===c.length)});return i.length>0&&(e=_.concat(t,i),i=_.concat(i,c(e))),_.concat(t,i)}var s,n,i,o,r;if(!t.can_delete)throw new Error("Нельзя удалить эту строку саму, без родительской");o=_.filter(e.basket_items(),["group",t.group]),r=_.map(o,function(t){return t.id}),s=c([t]),n=_.find(o,function(t){return null!==t.support}),void 0!==n&&(i=_.chain(s).filter(function(t){return t.has_support&&!sc_calc.base_calc.prototype.is_exclusion_from_support(t.sn())}).map(function(t){return t.sum()}).sum().value(),n.sum(n.sum()-n.support.rule(i))),this.basket_items(_.differenceBy(this.basket_items(),s,function(t){return t.id}))}.bind(this),e._add_specs_to_basket=function(t){var c;if(!(t.length<=0))for(e._add_background(t[0].group),c=t.length-1;c>=0;c--)!function(t){t.sn=ko.observable(t.sn),t.name=ko.observable(t.name),t.descr=ko.observable(t.descr),t.price=ko.observable(t.price),t.sum=ko.observable(t.sum),t.q.subscribe(function(c){var s,n,i,o;t.recalculate&&null!==(s=t.recalculate(c))&&(t.sn(s.sn),t.name(s.name),t.descr(s.descr),t.price(s.price),t.sum(s.sum),i=_.filter(e.basket_items(),["group",t.group]),void 0!==(n=_.find(i,function(t){return null!==t.support}))&&(o=_.chain(i).filter(function(t){return t.has_support&&!sc_calc.base_calc.prototype.is_exclusion_from_support(t.sn())}).differenceBy([n]).value(),n.sum(_.chain(o).map(function(t){return t.sum()}).sum().value())))}),e.basket_items.unshift(t)}(t[c])},e._bind_calculators_to_basket=function(t){var c;for(c=0;c<t.length;c++)t[c].on_add_result=e._add_specs_to_basket},e.support=ko.observable(sc_calc.SUPPORT_TYPES[1]),e._basket_items_without_supports=ko.computed(function(){return _.filter(e.basket_items(),function(t){return t.is_not_support()})}),e._basket_items_supports=ko.computed(function(){return _.filter(e.basket_items(),function(t){return null!==t.support&&void 0!==t.support})}),e.get_basket_items=ko.computed(function(){return e._basket_items_without_supports()}),e.get_support_total=ko.computed(function(){var t=_.chain(e._basket_items_supports()).map(function(t){return t.sum()}).sum().value();return e.support().rule(t)}),e.get_basket_items_for_export=ko.computed(function(){var t=new sc_calc.basket_item;return t.sn="SC"+e.support().postfix,t.name=e.support().name,t.descr=e.support().descr,t.q=1,t.price=e.support().rule_descr,t.sum=e.get_support_total(),_.concat(e._basket_items_without_supports(),[t])}),e.has_basket_items=ko.computed(function(){return e.get_basket_items().length>0}),e.total_sum=ko.computed(function(){return _.chain(e.get_basket_items()).map(function(t){return t.sum()}).concat([e.get_support_total()]).reduce(function(t,c){return t+c},0).value()},this),e.clear_basket=function(){e.basket_items([])},e.email=ko.observable(""),e.send_user_result=ko.observable(""),e.send_user_ok_enabled=ko.computed(function(){return e.email().length>0}),e.need_show_send_user=ko.observable(!1),e.send_user=function(){e.need_show_send_user(!0),sc_calc.grecaptcha().reset_send_user(),e.send_user_result("")},e.send_user_ok=function(){var t={"basket-items":ko.toJSON(this.get_basket_items_for_export(),null,2),email:e.email(),recaptcha:sc_calc.grecaptcha().response_send_user()};e.send_user_result(e.ajax_loader),$.ajax({cache:!1,data:t,dataType:"json",method:"POST",url:"/api/sc-calc-generic/index.php?q=send/user"}).done(function(){e.send_user_result(sc_calc.lang.EMAIL_SENT),setTimeout(function(){e.need_show_send_user(!1),e.send_user_result("")},4e3)}).fail(function(t){var c=sc_calc.lang.ERROR_OCCURED;t.responseJSON&&t.responseJSON.message&&(c=t.responseJSON.message),e.send_user_result(c)})},e.send_user_cancel=function(){e.need_show_send_user(!1),e.send_user_result("")},e.fz152=ko.observable(!1),e.need_show_request_help=ko.observable(!1),e.request_help_fio=ko.observable(""),e.request_help_post=ko.observable(""),e.request_help_org=ko.observable(""),e.request_help_phone=ko.observable(""),e.request_help_question=ko.observable(""),e.request_help_result=ko.observable(""),e.request_help=function(){sc_calc.grecaptcha().reset_popup(),e.need_show_request_help(!0),e.fz152(!1),e.request_help_result("")},e.request_help_ok=function(){var t={"basket-items":ko.toJSON(this.get_basket_items_for_export(),null,2),full_name:e.request_help_fio(),email:e.email(),post:e.request_help_post(),org:e.request_help_org(),phone:e.request_help_phone(),question:e.request_help_question(),recaptcha:sc_calc.grecaptcha().response_popup()};e.request_help_result(e.ajax_loader),$.ajax({cache:!1,data:t,dataType:"json",method:"POST",url:"/api/sc-calc-generic/index.php?q=request/help"}).done(function(){e.request_help_result(sc_calc.lang.REQUEST_SENT),setTimeout(function(){e.need_show_request_help(!1),e.request_help_result("")},4e3)}).fail(function(t){var c=sc_calc.lang.ERROR_OCCURED;t.responseJSON&&t.responseJSON.message&&(c=t.responseJSON.message.replace(/\n/gim,"<br/>")),e.request_help_result(c)})},e.request_help_cancel=function(){e.need_show_request_help(!1),e.request_help_result("")},e.request_help_ok_enabled=ko.computed(function(){var t;return t=[e.request_help_fio(),e.email(),e.request_help_post(),e.request_help_org(),e.request_help_phone(),e.fz152()],!_.some(t,function(t){return!t})},this),e.partner_vm=c,e.show_partners=function(){e.partner_vm.in_process()?e.partner_vm.exit():e.partner_vm.go()},e.need_show_request_partner_help=ko.observable(!1),e.selected_partner=ko.observable(null),e.send_partner=function(t){e.selected_partner(t),sc_calc.grecaptcha().reset_popup(),e.need_show_request_partner_help(!0),e.fz152(!1),e.selected_partner().send_partner_result("")},e.request_partner_help_ok=function(){var t={"basket-items":ko.toJSON(this.get_basket_items_for_export(),null,2),full_name:e.request_help_fio(),email:e.email(),post:e.request_help_post(),org:e.request_help_org(),phone:e.request_help_phone(),question:e.request_help_question(),recaptcha:sc_calc.grecaptcha().response_popup()},c=e.selected_partner();t.partner=c.email,c.send_partner_result(e.ajax_loader),$.ajax({cache:!1,data:t,dataType:"json",method:"POST",url:"/api/sc-calc-generic/index.php?q=request/partner"}).done(function(){c.send_partner_result(sc_calc.lang.REQUEST_SENT),setTimeout(function(){e.need_show_request_partner_help(!1),c.send_partner_result("")},4e3)}).fail(function(t){var e=sc_calc.lang.ERROR_OCCURED;t.responseJSON&&t.responseJSON.message&&(e=t.responseJSON.message.replace(/\n/gim,"<br/>")),c.send_partner_result(e)}).always(function(){e.need_show_request_partner_help(!1)})},e.request_partner_help_cancel=function(){e.need_show_request_partner_help(!1),e.selected_partner().send_partner_result(""),e.selected_partner(null)},e.request_partner_help_ok_enabled=ko.computed(function(){var t;return t=[e.request_help_fio(),e.email(),e.request_help_post(),e.request_help_org(),e.request_help_phone(),e.fz152()],!_.some(t,function(t){return!t})},this),e._bind_calculators_to_basket(e.children()),e.children.subscribe(e._bind_calculators_to_basket),e.basket_items.subscribe(function(t){null!==t&&0!==t.length||e.partner_vm.in_process(!1)},this),e._backgrounds={},e._add_background=function(t){e._backgrounds[t]="#"+[(200+Math.ceil(22*Math.random())).toString(16),(200+Math.ceil(22*Math.random())).toString(16),(200+Math.ceil(22*Math.random())).toString(16)].join("")}},"undefined"==typeof sc_calc&&(sc_calc={});var show_message=function(t){"use strict";alert(t)};void 0===sc_calc.const&&(sc_calc.const={}),sc_calc.const.mdm={},sc_calc.const.mdm.LICENSES={NONE:"sc_calc.const.mdm.LICENSES.NONE",START:"sc_calc.const.mdm.LICENSES.START",SMART:"sc_calc.const.mdm.LICENSES.SMART",SECURE:"sc_calc.const.mdm.LICENSES.SECURE"},sc_calc.const.mdm.LOCATION={NONE:"sc_calc.const.mdm.LOCATION.NONE",CLOUD:"sc_calc.const.mdm.LOCATION.CLOUD",LOCAL:"sc_calc.const.mdm.LOCATION.LOCAL"},sc_calc.const.mdm.KIND={NONE:"sc_calc.const.mdm.KIND.NONE",BY_USER:"sc_calc.const.mdm.KIND.BY_USER",BY_DEVICE:"sc_calc.const.mdm.KIND.BY_DEVICE"},sc_calc.const.mdm.YRANGE={NONE:"sc_calc.const.mdm.YRANGE.NONE",ONE:"sc_calc.const.mdm.YRANGE.ONE",TWO:"sc_calc.const.mdm.YRANGE.TWO",THREE:"sc_calc.const.mdm.YRANGE.THREE"},sc_calc.mdm_dto=function(){"use strict";sc_calc.base_dto.call(this,"sc_calc.mdm_dto")},sc_calc.mdm_dto.prototype=Object.create(sc_calc.base_dto.prototype),sc_calc.mdm_dto.prototype.type=sc_calc.const.mdm.LICENSES.NONE,sc_calc.mdm_dto.prototype.location=sc_calc.const.mdm.LOCATION.NONE,sc_calc.mdm_dto.prototype.kind=sc_calc.const.mdm.KIND.NONE,sc_calc.mdm_dto.prototype.term=sc_calc.const.mdm.YRANGE.NONE,sc_calc.mdm_dto.prototype.support_type=sc_calc.SUPPORT_TYPES[0],sc_calc.mdm_dto.prototype.toString=function(){"use strict";return"[ "+["Лицензия: "+this._last_part(this.type),"Размещение: "+this._last_part(this.location),"Тип: "+ +this._last_part(this.kind),"Срок: "+this._last_part(this.term),"Техподдержка: "+this.support_type.shortname].join(" | ")+" ]"},sc_calc.mdm=function(){"use strict";sc_calc.base_calc.call(this,sc_calc.CATEGORIES.MOBILE),this.code="calc-mdm",this.name="Secret MDM",this.support_prefix="MDM",this.license_type=ko.observable(sc_calc.const.mdm.LICENSES.NONE),this.location=ko.observable(sc_calc.const.mdm.LOCATION.NONE),this.kind=ko.observable(sc_calc.const.mdm.KIND.NONE),this.q=ko.observable("1"),this.q.subscribe(function(t){t!==sc_calc.lang.MDM_UP_TO_25&&this.q(this._asPositiveInt(t))}.bind(this)),this.support=ko.observable(sc_calc.SUPPORT_TYPES[0]),this.term=ko.observable(sc_calc.const.mdm.YRANGE.NONE),this.is_start=ko.computed(function(){return this.license_type()===sc_calc.const.mdm.LICENSES.START},this),this.is_defence_set_selected=function(t){return this.license_type()===t},this.is_location_selected=function(t){return this.location()===t},this.click_on_defence_set_button=function(t){if(this.license_type()===t)this.license_type(sc_calc.const.mdm.LICENSES.NONE),this.location(sc_calc.const.mdm.LOCATION.NONE),this.kind(sc_calc.const.mdm.KIND.NONE),this.q("1"),this.term(sc_calc.const.mdm.YRANGE.NONE);else switch(this.license_type(t),t){case sc_calc.const.mdm.LICENSES.START:this.location(sc_calc.const.mdm.LOCATION.CLOUD),this.kind(sc_calc.const.mdm.KIND.BY_DEVICE),this.q(sc_calc.lang.MDM_UP_TO_25),this.support(sc_calc.SUPPORT_TYPES[0]),this.term(sc_calc.const.mdm.YRANGE.NONE);break;case sc_calc.const.mdm.LICENSES.SECURE:this.location(sc_calc.const.mdm.LOCATION.LOCAL),isNaN(parseInt(this.q()))&&this.q("1"),this.support(sc_calc.SUPPORT_TYPES[1]),this.term(sc_calc.const.mdm.YRANGE.NONE);break;case sc_calc.const.mdm.LICENSES.SMART:isNaN(parseInt(this.q()))&&this.q("1"),this.support(sc_calc.SUPPORT_TYPES[1]),this.term(sc_calc.const.mdm.YRANGE.ONE)}},this._get_location_enabled=function(t){var c=this.license_type();switch(t){case sc_calc.const.mdm.LOCATION.CLOUD:return c===sc_calc.const.mdm.LICENSES.START||c===sc_calc.const.mdm.LICENSES.SMART;case sc_calc.const.mdm.LOCATION.LOCAL:return c===sc_calc.const.mdm.LICENSES.SECURE||c===sc_calc.const.mdm.LICENSES.SMART;default:throw new Error("_get_location_enabled "+t)}},this.is_something_disabled=function(t,c){return this.license_type()===sc_calc.const.mdm.LICENSES.NONE||!t.call(this,c)},this.oblako_disabled=ko.computed(function(){return this.is_something_disabled(this._get_location_enabled,sc_calc.const.mdm.LOCATION.CLOUD)},this),this.local_disabled=ko.computed(function(){return this.is_something_disabled(this._get_location_enabled,sc_calc.const.mdm.LOCATION.LOCAL)},this),this.user_disabled=ko.computed(function(){return this.is_something_disabled(this._get_kind_enabled,sc_calc.const.mdm.KIND.BY_USER)},this),this.device_disabled=ko.computed(function(){return this.is_something_disabled(this._get_kind_enabled,sc_calc.const.mdm.KIND.BY_DEVICE)},this),this.is_kind_selected=function(t){return this.kind()===t},this._get_kind_enabled=function(t){var c=this.license_type();switch(t){case sc_calc.const.mdm.KIND.BY_USER:return c===sc_calc.const.mdm.LICENSES.SECURE||c===sc_calc.const.mdm.LICENSES.SMART;case sc_calc.const.mdm.KIND.BY_DEVICE:return c===sc_calc.const.mdm.LICENSES.SECURE||c===sc_calc.const.mdm.LICENSES.SMART||c===sc_calc.const.mdm.LICENSES.START;default:throw new Error("_get_kind_enabled "+t)}},this.is_term_enabled=ko.computed(function(){return this.license_type()===sc_calc.const.mdm.LICENSES.SMART&&this.location()===sc_calc.const.mdm.LOCATION.CLOUD},this),this.is_infinite_term_enabled=ko.computed(function(){return!this.is_term_enabled()},this),this.is_q_enabled=ko.computed(function(){switch(this.license_type()){case sc_calc.const.mdm.LICENSES.START:case sc_calc.const.mdm.LICENSES.NONE:return!1;case sc_calc.const.mdm.LICENSES.SMART:case sc_calc.const.mdm.LICENSES.SECURE:return!0;default:throw new Error("is_q_enabled "+this.license_type())}},this),this.is_support_enabled=ko.computed(function(){return this.license_type()!==sc_calc.const.mdm.LICENSES.START},this),this.click_on_location=function(t){if(this.license_type()===sc_calc.const.mdm.LICENSES.NONE)return void show_message("Выберите лицензию");this._get_location_enabled(t)?(this.location(this.location()===t?sc_calc.const.mdm.LOCATION.NONE:t),this.is_term_enabled()?this.term(sc_calc.const.mdm.YRANGE.ONE):this.term(sc_calc.const.mdm.YRANGE.NONE)):show_message('Лицензии START размещаются только в «облаке» <a href="://www.sc-mdm.ru">www.sc-mdm.ru</a>. Если вам необходимо установить MDM-сервер локально, выберите пакет SMART или SECURET PACK.')},this.click_on_kind=function(t){if(this.license_type()===sc_calc.const.mdm.LICENSES.NONE)return void show_message("Выберите лицензию");this._get_kind_enabled(t)?this.kind(this.kind()===t?sc_calc.const.mdm.KIND.NONE:t):show_message("В лицензии START можно подключить до 25 устройств. Если вам необходимо лицензирование по количеству пользователей, выберите пакет SMART или SECURE PACK")},this._price_numeric=ko.computed(this._get_price_numeric,this),this.price=ko.computed(this._get_price,this),this.is_ready_to_dump=ko.computed(this._get_is_ready_to_dump,this)},sc_calc.mdm.prototype=Object.create(sc_calc.base_calc.prototype),sc_calc.mdm.prototype.dto_ctor=sc_calc.mdm_dto,sc_calc.mdm.prototype._mdm_q_to_lic_q=function(t){"use strict";return isNaN(t)||t<=0?"":t<=99?"1-99":t<=499?"100-499":">=500"},sc_calc.mdm.prototype._mdm_code=function(t,c){"use strict";var e=t.type,s=t.location,n=t.kind,_=t.term,i="MDM-";switch(e){case sc_calc.const.mdm.LICENSES.SMART:i+="SMART";break;case sc_calc.const.mdm.LICENSES.SECURE:i+="SPACK"}switch(i+="-LP",n){case sc_calc.const.mdm.KIND.BY_DEVICE:i+="D";break;case sc_calc.const.mdm.KIND.BY_USER:i+="U"}switch(i+="["+this._mdm_q_to_lic_q(c)+"]",i+="-D",s){case sc_calc.const.mdm.LOCATION.LOCAL:i+="L";break;case sc_calc.const.mdm.LOCATION.CLOUD:
switch(i+="C",_){case sc_calc.const.mdm.YRANGE.ONE:i+="1Y";break;case sc_calc.const.mdm.YRANGE.TWO:i+="2Y";break;case sc_calc.const.mdm.YRANGE.THREE:i+="3Y"}}return i},sc_calc.mdm.prototype._calculate_items=function(t,c){"use strict";var e,s,n,i=[];return chai.expect(arguments).to.be.lengthOf(2),chai.expect(t).to.be.an.instanceOf(sc_calc.mdm_dto),s=this._prepare_item(this._mdm_code.bind(this),sc_calc.LICENSES,t,c),i.push(s),i=_.filter(i,this._not_null_or_undefined),t.support_type&&(e=_.chain(i).map("sum").sum().value(),null!==(n=this._prepare_emit_support(t.support_type.code,e))&&null!==s&&(n.depends_upon.push(s.id),i.push(n))),i},sc_calc.mdm.prototype._emit_items=function(){"use strict";var t=this.q(),c=new sc_calc.mdm_dto;return c.type=this.license_type(),c.location=this.location(),c.kind=this.kind(),c.term=this.term(),c.support_type=this.support(),this._calculate_items(c,t)},"undefined"==typeof sc_calc&&(sc_calc={}),void 0===sc_calc.const&&(sc_calc.const={}),sc_calc.const.secret_net={},sc_calc.const.secret_net.KIND={NONE:"sc_calc.const.secret_net.KIND.NONE",NEW:"sc_calc.const.secret_net.KIND.NEW",UPGRADE:"sc_calc.const.secret_net.KIND.UPGRADE"},sc_calc.const.secret_net.VERSION={NONE:"sc_calc.const.secret_net.VERSION.NONE",NET:"sc_calc.const.secret_net.VERSION.NET",STANDALONE:"sc_calc.const.secret_net.VERSION.STANDALONE"},sc_calc.const.secret_net.TOKENS=[new sc_calc.License("ID-eT72","Идентификатор eToken PRO (Java) (72 КБ)",0,""),new sc_calc.License("ID-Rutoken","Идентификатор Rutoken S (32 Kб)",0,""),new sc_calc.License("kb-SNC-PCI-SP1Y","Secret Net Card (плата PCI)",0,""),new sc_calc.License("kb-SNC-PCI-E-SP1Y","Secret Net Card (плата PCI Express)",0,""),new sc_calc.License("kb-SNC-PCI-92-SP1Y","Secret Net Card (плата PCI) - комплект с DS1992",0,""),new sc_calc.License("kb-SNC-PCI-E-92-SP1Y","Secret Net Card (плата PCI Express) - комплект с DS1992",0,""),new sc_calc.License("kb-SNC-PCI-95-SP1Y","Secret Net Card (плата PCI) - комплект с DS1995",0,""),new sc_calc.License("kb-SNC-PCI-E-95-SP1Y","Secret Net Card (плата PCI Express) - комплект с DS1995",0,""),new sc_calc.License("kb-SNC-PCI-96-SP1Y","Secret Net Card (плата PCI) - комплект с DS1996",0,""),new sc_calc.License("kb-SNC-PCI-E-96-SP1Y","Secret Net Card (плата PCI Express) - комплект с DS1996",0,"")],sc_calc.secret_net_dto=function(){"use strict";sc_calc.base_dto.call(this,"sc_calc.secret_net_dto")},sc_calc.secret_net_dto.prototype=Object.create(sc_calc.base_dto.prototype),sc_calc.secret_net_dto.prototype.kind=sc_calc.const.secret_net.KIND.NONE,sc_calc.secret_net_dto.prototype.version=sc_calc.const.secret_net.VERSION.NONE,sc_calc.secret_net_dto.prototype.terminal_q=0,sc_calc.secret_net_dto.prototype.support_type=sc_calc.SUPPORT_TYPES[0],sc_calc.secret_net_dto.prototype.toString=function(){"use strict";return"[ "+["Тип: "+ +this._last_part(this.kind),"Версия: "+ +this._last_part(this.version),"Техподдержка: "+this.support_type.shortname].join(" | ")+" ]"},sc_calc.secret_net=function(){"use strict";sc_calc.base_calc.call(this,sc_calc.CATEGORIES.DESKTOP),this.code="calc-secret-net",this.name="Secret Net",this.support_prefix="SN",this.kind=ko.observable(sc_calc.const.secret_net.KIND.NEW),this.version=ko.observable(sc_calc.const.secret_net.VERSION.NET),this.q=ko.observable(1),this._restrict_value_as_positive_int(this.q),this.support=ko.observable(sc_calc.SUPPORT_TYPES[1]),this.tokens_dict=sc_calc.const.secret_net.TOKENS,this.tokens=ko.observableArray([]),this.tbl_q=ko.observable(0),this._restrict_value_as_positive_int(this.tbl_q),this.monitor_q=ko.observable(0),this._restrict_value_as_positive_int(this.monitor_q),this.terminal_q=ko.observable(0),this._restrict_value_as_positive_int(this.terminal_q),this._price_numeric=ko.computed(this._get_price_numeric,this),this.price=ko.computed(this._get_price,this),this.is_ready_to_dump=ko.computed(function(){return this._asPositiveInt(this.q())>0&&this._get_is_ready_to_dump()},this),this.add_new_empty_token=function(){var t={token:ko.observable(this.tokens_dict[0]),token_q:ko.observable(0)};this._restrict_value_as_positive_int(t.token_q),this.tokens.push(t)}.bind(this),this.remove_token=function(t){var c=this.tokens.indexOf(t);this.tokens.splice(c,1)}.bind(this),this.has_at_least_two_token=ko.computed(function(){return this.tokens().length>1},this),this.is_monitor_enabled=ko.computed(function(){return this.version()===sc_calc.const.secret_net.VERSION.NET},this),this.add_new_empty_token(),this.version.subscribe(function(t){t===sc_calc.const.secret_net.VERSION.STANDALONE&&this.monitor_q(0)},this)},sc_calc.secret_net.prototype=Object.create(sc_calc.base_calc.prototype),sc_calc.secret_net.prototype.dto_ctor=sc_calc.secret_net_dto,sc_calc.secret_net.prototype._standalone_q_to_lic_q=function(t){"use strict";return isNaN(t)||t<=0?"":t<=50?"1-50":t<=100?"51-100":t<=250?"101-250":">250"},sc_calc.secret_net.prototype._net_server_q_to_lic_q=function(t){"use strict";return t<1?"":t<50?"C":t<250?"B":"A"},sc_calc.secret_net.prototype._net_client_q_to_lic_q=function(t){"use strict";return t<1?"":t<=10?"1-10":t<=25?"11-25":t<=50?"26-50":t<=100?"51-100":t<=250?"101-250":">250"},sc_calc.secret_net.prototype._terminal_q_to_lic_q=function(t){"use strict";return isNaN(t)||t<=0?"":t<=10?"1-10":t<=25?"11-25":t<=50?"26-50":">50"},sc_calc.secret_net.prototype._standalone_code=function(t,c,e){"use strict";var s="SN7.x-A";return s+="["+this._standalone_q_to_lic_q(e)+"]",t===sc_calc.const.secret_net.KIND.UPGRADE&&(s+="-RN30"),s+="-SP1Y"},sc_calc.secret_net.prototype._net_server_code=function(t,c,e){"use strict";var s="SN7.x-N-SS";return s+=this._net_server_q_to_lic_q(e),t===sc_calc.const.secret_net.KIND.UPGRADE&&(s+="-RN30"),s+="-SP1Y"},sc_calc.secret_net.prototype._net_client_code=function(t,c,e){"use strict";var s="SN7.x-N-C";return s+="["+this._net_client_q_to_lic_q(e)+"]",t===sc_calc.const.secret_net.KIND.UPGRADE&&(s+="-RN30"),s+="-SP1Y"},sc_calc.secret_net.prototype._disk_code=function(t,c,e){"use strict";if(e<1)return"";switch(c){case sc_calc.const.secret_net.VERSION.NET:return"SN7.x-Disk-N";case sc_calc.const.secret_net.VERSION.STANDALONE:return"SN7.x-Disk-A"}return""},sc_calc.secret_net.prototype._terminal_code=function(t,c){"use strict";var e="SN7.x-TermC";return e+="["+this._terminal_q_to_lic_q(c)+"]",e+="-SP1Y"},sc_calc.secret_net.prototype._prepare_usual_sn=function(t,c){"use strict";if(2!==arguments.length)throw Error("ArgumentsCountException");return this._prepare_usual(sc_calc.LICENSES,t,c)},sc_calc.secret_net.prototype._prepare_emit_main_product=function(t,c,e){"use strict";var s=this._standalone_code(t,c,e),n=this._prepare_usual_sn(s,e);return(n||{}).recalculate=this._prepare_emit_main_product.bind(this,t,c),n},sc_calc.secret_net.prototype._prepare_emit_server=function(t,c,e,s){"use strict";var n=this._net_server_code(t,c,s);return this._prepare_usual_sn(n,e)},sc_calc.secret_net.prototype._prepare_emit_client=function(t,c,e){"use strict";var s,n;return(e=this._asPositiveInt(e))<1?null:(s=this._net_client_code(t,c,e),n=this._prepare_usual_sn(s,e),(n||{}).recalculate=this._prepare_emit_client.bind(this,t,c),n)},sc_calc.secret_net.prototype._prepare_emit_disk=function(t,c,e){"use strict";var s,n;return n=this._disk_code(t,c,e),null===(s=this._prepare_usual_sn(n,e))?null:(c===sc_calc.const.secret_net.VERSION.NET&&(s.q=ko.observable(1),s.sum=s.price),s)},sc_calc.secret_net.prototype._prepare_emit_token=function(t,c){"use strict";var e=this._prepare_usual(sc_calc.LICENSES,t.code,c);return e.recalculate=this._prepare_emit_token.bind(this,t),e},sc_calc.secret_net.prototype._prepare_emit_tokens=function(t){"use strict";var c=this;return _.chain(t).filter(function(t){return t.token_q()>0}).map(function(t){return c._prepare_emit_token(t.token(),t.token_q())}).value()},sc_calc.secret_net.prototype._prepare_emit_tbl=function(t){"use strict";var c=this._prepare_usual_sn("SN7.x-TBL-SP1Y",t);return(c||{}).recalculate=this._prepare_emit_tbl.bind(this),c},sc_calc.secret_net.prototype._prepare_emit_monitor=function(t){"use strict";var c=this._prepare_usual_sn("SN7.x-N-M1-SP1Y",t);return(c||{}).recalculate=this._prepare_emit_monitor.bind(this),c},sc_calc.secret_net.prototype._calculate_items=function(t,c,e,s,n){"use strict";var i,o,r,a,l,p,u,h,d,E,m,f=t.kind,b=t.version,S=[],N=this;if(5!==arguments.length)throw Error("ArgumentsCountException");switch(o=this._prepare_emit_disk(f,b,c),d=this._prepare_emit_tokens(e),l=this._prepare_emit_tbl(s),p=this._prepare_emit_monitor(n),u=this._prepare_item(this._terminal_code.bind(this),sc_calc.LICENSES,t,t.terminal_q),b){case sc_calc.const.secret_net.VERSION.STANDALONE:i=this._prepare_emit_main_product(f,b,c),E=i.id,S=[i];break;case sc_calc.const.secret_net.VERSION.NET:r=this._prepare_emit_server(f,b,1,c),a=this._prepare_emit_client(f,b,c),null!==r&&(null!==a&&(a.depends_upon.push(r.id),a.can_delete=!1,r.recalculate=function(t){return N._prepare_emit_server(f,b,t,a.q())},a.q.subscribe(function(t){var c=this._prepare_emit_server(f,b,r.q(),t);r.sn(c.sn),r.name(c.name),r.descr(c.descr),r.price(c.price),r.sum(c.sum)},this)),E=r.id),S=[r,a]}return null!==o&&(o.depends_upon.push(E),o.can_delete=!1,o.has_support=!1),_.forEach(d||[],function(t){this.is_exclusion_from_support(t.sn)&&(t.has_support=!1)}.bind(this)),S=_.chain([S,o,d,l,p,u]).flatten().concat().filter(this._not_null_or_undefined).value(),m=_.chain(S).filter(["has_support",!0]).map("sum").sum().value(),h=this._prepare_emit_support(t.support_type.code,m),null!==h&&(h.depends_upon.push(E),S.push(h)),S},sc_calc.secret_net.prototype._emit_items=function(){"use strict";var t=this.q(),c=new sc_calc.secret_net_dto,e=this.tokens(),s=this.tbl_q(),n=this.monitor_q();return c.kind=this.kind(),c.version=this.version(),c.terminal_q=this.terminal_q(),c.support_type=this.support(),this._calculate_items(c,t,e,s,n)},"undefined"==typeof sc_calc&&(sc_calc={}),sc_calc.secret_net_lsp_dto=function(t,c){"use strict";sc_calc.base_dto.call(this,"sc_calc.secret_net_lsp_dto"),this.extended_warranty=t,this.support_type=c},sc_calc.secret_net_lsp_dto.prototype=Object.create(sc_calc.base_dto.prototype),sc_calc.secret_net_lsp_dto.prototype.toString=function(){"use strict";return"[ Тип "+this.kind+" | Поддержка "+(this.support_type||{shortname:"не указано"}).shortname+" ]"},sc_calc.secret_net_lsp=function(){"use strict";sc_calc.base_calc.call(this,sc_calc.CATEGORIES.DESKTOP),this.code="calc-secret-net-lsp",this.name="Secret Net LSP",this.support_prefix="SNLSP",this.kind=ko.observable(sc_calc.secret_net_lsp.KIND.NEW),this.q=ko.observable(1),this._restrict_value_as_positive_int(this.q),this.support=ko.observable(sc_calc.SUPPORT_TYPES[1]),this.is_rutoken_needed=ko.observable(!1),this._price_numeric=ko.computed(this._get_price_numeric,this),this.price=ko.computed(this._get_price,this),this.is_ready_to_dump=ko.computed(this._get_is_ready_to_dump,this)},sc_calc.secret_net_lsp.prototype=Object.create(sc_calc.base_calc.prototype),sc_calc.secret_net_lsp.prototype.dto_ctor=sc_calc.secret_net_lsp_dto,sc_calc.secret_net_lsp.prototype._lsp_q_to_lic_q=function(t){"use strict";return isNaN(t)||t<=0?"":t<=50?"1-50":t<=100?"51-100":t<=250?"101-250":">250"},sc_calc.secret_net_lsp.prototype._lsp_code=function(t,c){"use strict";var e;return this._has_valid_dto_property(t,"kind")?(e="SNLSP1.x-E",e+="["+this._lsp_q_to_lic_q(c)+"]",t.kind===sc_calc.secret_net_lsp.KIND.UPGRADE&&(e+="-RN30"),e+="-SP1Y"):this.SPOILER},sc_calc.secret_net_lsp.prototype._disk_code=function(){"use strict";return"SNLSP1.x-Disk"},sc_calc.secret_net_lsp.prototype._prepare_usual_lsp=function(t,c){"use strict";return this._prepare_usual(sc_calc.LICENSES,t,c)},sc_calc.secret_net_lsp.prototype._prepare_emit_lsp=function(t,c){"use strict";var e=this._lsp_code(t,c),s=this._prepare_usual_lsp(e,c);return(s||{}).recalculate=this._prepare_emit_lsp.bind(this,t),s},sc_calc.secret_net_lsp.prototype._prepare_emit_disk=function(t,c){"use strict";var e=this._disk_code(t,c);return this._prepare_usual_lsp(e,c)},sc_calc.secret_net_lsp.prototype._prepare_emit_tokens=function(t){"use strict";var c=this._prepare_usual(sc_calc.LICENSES,"ID-Rutoken",t);return(c||{}).recalculate=this._prepare_emit_tokens.bind(this),c},sc_calc.secret_net_lsp.prototype._calculate_items=function(t,c,e){"use strict";var s,n,i,o,r,a=[];if(3!==arguments.length)throw Error("ArgumentsCountException");return null===(s=this._prepare_emit_lsp(t,c))?a:(o=this._prepare_emit_tokens(e),null!==o&&(o.depends_upon.push(s.id),o.has_support=!1),n=this._prepare_emit_disk(t,c),null!==n&&(n.depends_upon.push(s.id),n.can_delete=!1,n.has_support=!1),a=[s,n,o],a=_.filter(a,this._not_null_or_undefined),r=_.chain(a).filter(["has_support",!0]).map("sum").sum().value(),i=this._prepare_emit_support(t.support_type.code,r),null!==i&&(i.depends_upon.push(s.id),a.push(i)),a)},sc_calc.secret_net_lsp.prototype._emit_items=function(){"use strict";var t=this.q(),c=this.is_rutoken_needed()?1:0,e=new sc_calc.secret_net_lsp_dto;return e.kind=this.kind(),e.support_type=this.support(),this._calculate_items(e,t,c)},sc_calc.secret_net_lsp.KIND={NONE:"sc_calc.secret_net_lsp.KIND.NONE",NEW:"sc_calc.secret_net_lsp.KIND.NEW",UPGRADE:"sc_calc.secret_net_lsp.KIND.UPGRADE"},"undefined"==typeof sc_calc&&(sc_calc={}),sc_calc.base_continent=function(){"use strict";sc_calc.base_calc.call(this,sc_calc.CATEGORIES.NET)},sc_calc.base_continent.prototype=Object.create(sc_calc.base_calc.prototype),sc_calc.base_continent.prototype.is_extended_warranty_enabled=ko.observable(!0),sc_calc.base_continent.prototype._prepare_extended_warranty=function(t){"use strict";var c,e,s;if(!this._has_valid_dto_property(t,"platform")||!this._has_valid_dto_property(t,"extended_warranty"))return null;if(e=t.platform,s=t.extended_warranty,!this.is_extended_warranty_enabled())return null;switch(c="HSEC-3.X-"+e.ew_code+"-EXW",s){case sc_calc.const.continent.EXTENDED_WARRANTY.ONE_YEAR_TWO_DAYS:c+="-2D1Y";break;case sc_calc.const.continent.EXTENDED_WARRANTY.ONE_YEAR_SEVEN_DAYS:c+="-7D1Y";break;case sc_calc.const.continent.EXTENDED_WARRANTY.TWO_YEARS_TWO_DAYS:c+="-2D2Y";break;case sc_calc.const.continent.EXTENDED_WARRANTY.TWO_YEARS_SEVEN_DAYS:c+="-7D2Y"}return this._prepare_usual(this.get_price_list(),c,1)},sc_calc.base_continent.prototype._accessoire_default_q=function(t,c){"use strict";switch(c){case"HSEC-IPC3000F- 10GB-SFP-Optic":return 2;case"HSEC-IPC25-MountingKit":return 1}return 0},sc_calc.base_continent.prototype._accessoire_need_recalc=function(t){"use strict";return"HSEC-IPC3000F- 10GB-SFP-Optic"===("function"==typeof t.sn?t.sn():t.sn)},sc_calc.base_continent.prototype._prepare_accessoire=function(t){"use strict";var c,e;return this._has_valid_dto_property(t,"platform")?t.platform.ew_code===sc_calc.const.continent.platform.ipc3000f.ew_code?(e="HSEC-IPC3000F- 10GB-SFP-Optic",c=this._prepare_usual(this.get_price_list(),e,this._accessoire_default_q(t,e)),c.can_delete=!0,c):t.platform.code===sc_calc.const.continent.platform.ipc25.code?t.want_accessoire!==!0?null:(e="HSEC-IPC25-MountingKit",c=this._prepare_usual(this.get_price_list(),e,this._accessoire_default_q(t,e)),c.can_delete=!0,c):null:null},sc_calc.base_continent.prototype._bind_accessoire_recalc=function(t,c,e){"use strict";this._recalc_accessoire_q(t,c,e),c.q.subscribe(function(){this._recalc_accessoire_q(t,c,e)},this),e.recalculate=function(s){var n=this._accessoire_default_q(t,e.sn());return s<c.q()*n&&this._ajust_accessoire_q(t,c,e),this._recalc_accessoire_sum(e),JSON.parse(ko.toJSON(e,null,2))}.bind(this)},sc_calc.base_continent.prototype._ajust_accessoire_q=function(t,c,e){"use strict";var s;s="function"==typeof e.sn?e.sn():e.sn,e.q(this._accessoire_default_q(t,s)*c.q())},sc_calc.base_continent.prototype._recalc_accessoire_sum=function(t){"use strict";var c;"function"==typeof t.sum?(c=t.price()*t.q(),t.sum(c)):(c=t.price*t.q(),t.sum=c)},sc_calc.base_continent.prototype._recalc_accessoire_q=function(t,c,e){"use strict";this._accessoire_need_recalc(e)&&(this._ajust_accessoire_q(t,c,e),this._recalc_accessoire_sum(e))},"undefined"==typeof sc_calc&&(sc_calc={}),void 0===sc_calc.const&&(sc_calc.const={}),sc_calc.const.continent={},sc_calc.const.continent.PRODUCT={NONE:"sc_calc.const.continent.PRODUCT.NONE",GATE:"sc_calc.const.continent.PRODUCT.GATE",TLS:"sc_calc.const.continent.PRODUCT.TLS",IDS:"sc_calc.const.continent.PRODUCT.IDS",WAF:"sc_calc.const.continent.PRODUCT.WAF"},sc_calc.const.continent.EXTENDED_WARRANTY={NONE:"EXTENDED_WARRANTY.NONE",ONE_YEAR_TWO_DAYS:"ONE_YEAR_TWO_DAYS",ONE_YEAR_SEVEN_DAYS:"ONE_YEAR_SEVEN_DAYS",TWO_YEARS_TWO_DAYS:"TWO_YEARS_TWO_DAYS",TWO_YEARS_SEVEN_DAYS:"TWO_YEARS_SEVEN_DAYS"},sc_calc.const.continent_gate={},sc_calc.const.continent_gate.KIND={NONE:"sc_calc.const.continent_gate.KIND.NONE",NEW:"sc_calc.const.continent_gate.KIND.NEW",UPGRADE:"sc_calc.const.continent_gate.KIND.UPGRADE"},sc_calc.const.continent_gate.CERT_LEVEL={NONE:"sc_calc.const.continent_gate.CERT_LEVEL.NONE",KS1:"sc_calc.const.continent_gate.CERT_LEVEL.KS1",KS2:"sc_calc.const.continent_gate.CERT_LEVEL.KS2",KS3:"sc_calc.const.continent_gate.CERT_LEVEL.KS3",KV:"sc_calc.const.continent_gate.CERT_LEVEL.KV"},sc_calc.const.continent_gate.MODULE={NONE:"sc_calc.const.continent_gate.MODULE.NONE",NCC:"sc_calc.const.continent_gate.MODULE.NCC",CRYPTO_GATE:"sc_calc.const.continent_gate.MODULE.CRYPTO_GATE",CRYPTO_COMM:"sc_calc.const.continent_gate.MODULE.CRYPTO_COMM",DETECTOR:"sc_calc.const.continent_gate.MODULE.DETECTOR",ACCESS:"sc_calc.const.continent_gate.MODULE.ACCESS"},sc_calc.const.continent_gate.MODIFICATION={NONE:"sc_calc.const.continent_gate.MODIFICATION.NONE",NCC:"sc_calc.const.continent_gate.MODIFICATION.NCC",NCC_ACCESS:"sc_calc.const.continent_gate.MODIFICATION.NCC_ACCESS",GATE_ACCESS:"sc_calc.const.continent_gate.MODIFICATION.GATE_ACCESS",SOA:"sc_calc.const.continent_gate.MODIFICATION.SOA"},sc_calc.const.continent_gate.PROVIDER={NONE:"sc_calc.const.continent_gate.PROVIDER.NONE",SEC_CODE:"sc_calc.const.continent_gate.PROVIDER.SEC_CODE",CRYPTO_PRO:"sc_calc.const.continent_gate.PROVIDER.CRYPTO_PRO"},sc_calc.const.continent_gate.CERT_TYPE={NONE:"sc_calc.const.continent_gate.CERT_TYPE.NONE",FSTEK:"sc_calc.const.continent_gate.CERT_TYPE.FSTEK",FSB:"sc_calc.const.continent_gate.CERT_TYPE.FSB"},sc_calc.const.continent_tls={},sc_calc.const.continent_tls.CERT_LEVEL={},sc_calc.const.continent_tls.CERT_LEVEL.NONE="sc_calc.const.continent_tls.CERT_LEVEL.NONE",sc_calc.const.continent_tls.CERT_LEVEL.KC1="sc_calc.const.continent_tls.CERT_LEVEL.KC1",sc_calc.const.continent_tls.CERT_LEVEL.KC2="sc_calc.const.continent_tls.CERT_LEVEL.KC2",sc_calc.const.continent_ids={},sc_calc.const.continent_ids.MODULE={NCC:"sc_calc.const.continent_ids.MODULE.NCC",DETECTOR:"sc_calc.const.continent_ids.MODULE.DETECTOR",BALANCER:"sc_calc.const.continent_ids.MODULE.BALANCER"},sc_calc.const.continent_waf={},"undefined"==typeof sc_calc&&(sc_calc={}),sc_calc.const.continent.platform=function(t,c,e,s,n){"use strict";chai.expect(arguments).to.be.lengthOf(5),this.name=t,this.code=c,this.ew_code=e,this.rn_code=s,this.is_device=n,this.disable=ko.observable(!1)},sc_calc.const.continent.platform.prototype.descr="",sc_calc.const.continent.platform.prototype.create_with_description=function(t){"use strict";var c=Object.create(this);return c.descr=t,c},sc_calc.const.continent.platform.tls_lic=function(t){"use strict";sc_calc.const.continent.platform.call(this,"Лицензия на "+t+" одновременных подключений",t,"","",!1)},sc_calc.const.continent.platform.tls_lic.prototype=Object.create(sc_calc.const.continent.platform.prototype),sc_calc.const.continent.platform.null=new sc_calc.const.continent.platform("","***","***","***",!1),sc_calc.const.continent.platform.ipc10=new sc_calc.const.continent.platform("IPC-10","IPC10","","IPC-10",!0),sc_calc.const.continent.platform.ipc25=new sc_calc.const.continent.platform("IPC-25","IPC25","IPC25/10","IPC-25",!0),sc_calc.const.continent.platform.ip64=new sc_calc.const.continent.platform("IP64","IP64","","",!0),sc_calc.const.continent.platform.ipc100=new sc_calc.const.continent.platform("IPC-100","IPC100","IPC100","IPC-100",!0),sc_calc.const.continent.platform.ipc400=new sc_calc.const.continent.platform("IPC-400","IPC400","IPC400","IPC400",!0),sc_calc.const.continent.platform.ipc1000=new sc_calc.const.continent.platform("IPC-1000","IPC1000","IPC1000","IPC-1000",!0),sc_calc.const.continent.platform.ipc1000f=new sc_calc.const.continent.platform("IPC-1000F","IPC1000F","IPC1000","IPC-1000F",!0),sc_calc.const.continent.platform.ipc1000f2=new sc_calc.const.continent.platform("IPC-1000F2","IPC1000F2","IPC1000","IPC-1000F2",!0),sc_calc.const.continent.platform.ipc3000f=new sc_calc.const.continent.platform("IPC3000F","IPC3000F","IPC3000","IPC-3000F",!0),sc_calc.const.continent.platform.ipc3008=new sc_calc.const.continent.platform("IPC3008","IPC3008","","",!0),sc_calc.const.continent.platform.ipc3034=new sc_calc.const.continent.platform("IPC3034","IPC3034","IPC3034","PC-3034",!0),sc_calc.const.continent.platform.ipc3034f=new sc_calc.const.continent.platform("IPC3034F","IPC3034F","IPC3034","PC-3034F",!0),sc_calc.const.continent.platform.lics=new sc_calc.const.continent.platform("Дополнительное подключение к ЦУС","lics","","",!1),sc_calc.const.continent.platform.arcsight=new sc_calc.const.continent.platform("Коннектор к SIEM HP Arcsight","arcsight","","",!1),sc_calc.const.continent.platform.ap_lic=new sc_calc.const.continent.platform("Лицензия на подключение “Континент-АП” к Серверу доступа (собственный CSP)","AP-lic","","",!1),sc_calc.const.continent.platform.ap_csp_lic=new sc_calc.const.continent.platform("Лицензия на подключение “Континент-АП” к Серверу доступа (КриптоПро CSP 4.0)","AP-CSP4.0-lic","","",!1),sc_calc.const.continent.platform.transceiver_ipc3000f=new sc_calc.const.continent.platform("Трансивер к IPC-3000F","transceiver-ipc3000f","","",!1),_.forEach([100,250,500,1e3,2500,5e3,1e4,15e3,2e4],function(t){"use strict";sc_calc.const.continent.platform["tls_"+t]=new sc_calc.const.continent.platform.tls_lic(t)}),sc_calc.const.continent.platform.waf_1000_lics=new sc_calc.const.continent.platform("Smart Analytics для IPC-1000","IPC1000-WAF-SERVER-SA-lic","","",!1),sc_calc.const.continent.platform.waf_3000f_lics=new sc_calc.const.continent.platform("Smart Analytics для IPC-3000F","IPC3000F-WAF-SERVER-SA-lic","","",!1),sc_calc.const.continent.platform.ipc100nm=new sc_calc.const.continent.platform("IPC 100NM","IPC100NM","IPC100","",!0),sc_calc.const.continent.platform.ipc1000nmf=new sc_calc.const.continent.platform("IPC 1000NMF","IPC1000NMF","IPC1000","",!0),sc_calc.const.continent.platform.ipc3000nmf=new sc_calc.const.continent.platform("IPC 3000NMF","IPC3000NMF","IPC3000","",!0),sc_calc.const.continent.platform.ipc100nd=new sc_calc.const.continent.platform("IPC 100ND","IPC100ND","IPC100","",!0),sc_calc.const.continent.platform.ipc1000ndf=new sc_calc.const.continent.platform("IPC 1000NDF","IPC1000NDF","IPC1000","",!0),sc_calc.const.continent.platform.ipc3000ndf=new sc_calc.const.continent.platform("IPC 3000NDF","IPC3000NDF","IPC3000","",!0),sc_calc.const.continent.platform.ipc3000nbf=new sc_calc.const.continent.platform("IPC 3000NBF","IPC3000NBF","IPC3000","",!0),sc_calc.const.continent_gate.PLATFORMS={},sc_calc.const.continent_gate.PLATFORMS[sc_calc.const.continent_gate.MODIFICATION.NONE]=[],sc_calc.const.continent_gate.PLATFORMS[sc_calc.const.continent_gate.MODIFICATION.NCC]=[sc_calc.const.continent.platform.ipc25.create_with_description('Интерфейсы:\r\n4x Gigabit Ethernet\r\n1x Gigabit  SFP\r\n\r\nКоличество подключенных устройств АПКШ "Континент: до 10\r\n\r\nПроизводительность:\r\nFW до 100 Мбит/с\r\nVPN (L3) до 50 Мбит/с'),sc_calc.const.continent.platform.ipc100.create_with_description('Интерфейсы:\r\n6x Gigabit Ethernet\r\n2x Gigabit  SFP\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 500\r\n\r\nПроизводительность: \r\nFW до 400 Мбит/с\r\nVPN (L3) до 300 Мбит/с'),sc_calc.const.continent.platform.ipc400.create_with_description('Интерфейсы:\r\n6x Gigabit Ethernet\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 1000\r\n\r\nПроизводительность: \r\nFW до 1000 Мбит/с\r\nVPN (L3) до 500 Мбит/с'),sc_calc.const.continent.platform.ipc1000.create_with_description('Интерфейсы:\r\n10x Gigabit Ethernet\r\n\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 3000\r\n\r\nПроизводительность: \r\nFW до 1000 Мбит/с\r\nVPN (L3) до 950 Мбит/с'),sc_calc.const.continent.platform.ipc1000f.create_with_description('Интерфейсы:\r\n6x Gigabit Ethernet\r\n4x Gigabit  SFP\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 3000\r\n\r\nПроизводительность: \r\nFW до 1000 Мбит/с\r\nVPN (L3) до 950 Мбит/с"\r\n'),sc_calc.const.continent.platform.ipc1000f2.create_with_description('Интерфейсы:\r\n10x Gigabit Ethernet\r\n8x Gigabit  SFP\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 3000\r\n\r\nПроизводительность: \r\nFW до 1000 Мбит/с\r\nVPN (L3) до 950 Мбит/с'),sc_calc.const.continent.platform.ipc3000f.create_with_description('Интерфейсы:\r\n10x Gigabit Ethernet\r\n4x 10G SFP+\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 3000\r\n\r\nПроизводительность:\r\n FW до 3500 Мбит/с\r\nVPN (КШ) до 2500 Мбит/с'),sc_calc.const.continent.platform.transceiver_ipc3000f.create_with_description("Трансивер для IPC3000F"),sc_calc.const.continent.platform.ipc3034.create_with_description('Интерфейсы:\r\n34x Gigabit Ethernet\r\n\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 3000\r\n\r\nПроизводительность: \r\nFW до 3500 Мбит/с\r\nVPN (КШ) до 2500 Мбит/с'),sc_calc.const.continent.platform.ipc3034f.create_with_description('Интерфейсы:\r\n2x Gigabit Ethernet\r\n32x Gigabit SFP\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 3000\r\n\r\nПроизводительность: \r\nFW до 3500 Мбит/с\r\nVPN (КШ) до 2500 Мбит/с'),sc_calc.const.continent.platform.lics.create_with_description("Дополнительная лицензия на подключение устройства к ЦУС (сверх четырех встроенных по умолчанию)"),sc_calc.const.continent.platform.arcsight.create_with_description("")],sc_calc.const.continent_gate.PLATFORMS[sc_calc.const.continent_gate.MODIFICATION.NCC_ACCESS]=[sc_calc.const.continent.platform.ipc25.create_with_description('Интерфейсы:\r\n4x Gigabit Ethernet\r\n1x Gigabit  SFP\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 10\r\nКоличество одновременно подключенных удаленных пользователей: до 25\r\n\r\nПроизводительность: \r\nFW до 100 Мбит/с\r\nVPN (L2, L3) до 50 Мбит/с\r\nIDS до 25 Мбит/с'),sc_calc.const.continent.platform.ipc100.create_with_description('Интерфейсы:\r\n6x Gigabit Ethernet\r\n2x Gigabit  SFP\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 500\r\nКоличество одновременно подключенных удаленных пользователей: до 500\r\n\r\nПроизводительность: \r\nFW до 400 Мбит/с\r\nVPN (L2, L3) до 300 Мбит/с\r\nIDS до 260 Мбит/с'),sc_calc.const.continent.platform.ipc400.create_with_description('Интерфейсы:\r\n6x Gigabit Ethernet\r\n\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 1000\r\nКоличество одновременно подключенных удаленных пользователей: до 1000\r\n\r\nПроизводительность: \r\nFW до 1000 Мбит/с\r\nVPN (L2, L3) до 500 Мбит/с\r\nIDS до 500 Мбит/с'),sc_calc.const.continent.platform.ipc1000.create_with_description('Интерфейсы:\r\n10x Gigabit Ethernet\r\n\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 3000\r\nКоличество одновременно подключенных удаленных пользователей: до 1000\r\n\r\nПроизводительность: \r\nFW до 1000 Мбит/с\r\nVPN (L2, L3) до 950 Мбит/с\r\nIDS до 600 Мбит/с'),sc_calc.const.continent.platform.ipc1000f.create_with_description('Интерфейсы:\r\n6x Gigabit Ethernet\r\n4x Gigabit  SFP\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 3000\r\nКоличество одновременно подключенных удаленных пользователей: до 1000\r\n\r\nПроизводительность: \r\nFW до 1000 Мбит/с\r\nVPN (L2, L3) до 950 Мбит/с\r\nIDS до 600 Мбит/с'),sc_calc.const.continent.platform.ipc1000f2.create_with_description('Интерфейсы:\r\n10x Gigabit Ethernet\r\n8x Gigabit  SFP\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 3000\r\nКоличество одновременно подключенных удаленных пользователей: до 1000\r\n\r\nПроизводительность: \r\nFW до 1000 Мбит/с\r\nVPN (L2, L3) до 950 Мбит/с\r\nIDS до 600 Мбит/с'),sc_calc.const.continent.platform.ipc3000f.create_with_description('Интерфейсы:\r\n10x Gigabit Ethernet\r\n4x 10G SFP+\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 3000\r\nКоличество одновременно подключенных удаленных пользователей: до 3000\r\n\r\nПроизводительность: \r\nFW до 3500 Мбит/с\r\nVPN (КШ) до 2500 Мбит/с\r\nVPN (КК) до 3000 Мбит/с\r\nIDS до 660 Мбит/с'),sc_calc.const.continent.platform.transceiver_ipc3000f.create_with_description("Трансивер для IPC3000F"),sc_calc.const.continent.platform.ipc3034.create_with_description('Интерфейсы:\r\n34x Gigabit Ethernet\r\n\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 3000\r\nКоличество одновременно подключенных удаленных пользователей: до 3000\r\n\r\nПроизводительность: \r\nFW до 3500 Мбит/с\r\nVPN (КШ) до 2500 Мбит/с\r\nVPN (КК) до 3000 Мбит/с\r\nIDS до 660 Мбит/с'),sc_calc.const.continent.platform.ipc3034f.create_with_description('Интерфейсы:\r\n2x Gigabit Ethernet\r\n32x Gigabit SFP\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 3000\r\nКоличество одновременно подключенных удаленных пользователей: до 3000\r\n\r\nПроизводительность: \r\nFW до 3500 Мбит/с\r\nVPN (КШ) до 2500 Мбит/с\r\nVPN (КК) до 3000 Мбит/с\r\nIDS до 660 Мбит/с'),sc_calc.const.continent.platform.lics.create_with_description("Дополнительная лицензия на подключение устройства к ЦУС (сверх четырех встроенных по умолчанию)"),sc_calc.const.continent.platform.arcsight.create_with_description(""),sc_calc.const.continent.platform.ap_lic.create_with_description("Используется собственная криптобиблиотека"),sc_calc.const.continent.platform.ap_csp_lic.create_with_description("Используется  криптобиблиотека Крипто ПРО CSP 4.0")],
sc_calc.const.continent_gate.PLATFORMS[sc_calc.const.continent_gate.MODULE.CRYPTO_GATE]=[sc_calc.const.continent.platform.ipc10.create_with_description("Интерфейсы:\r\n3x Ethernet\r\n\r\nПроизводительность: \r\nFW до 100 Мбит/с\r\nVPN (L3) до 10 Мбит/с"),sc_calc.const.continent.platform.ipc25.create_with_description("Интерфейсы:\r\n4x Gigabit Ethernet\r\n1x Gigabit  SFP\r\n\r\nПроизводительность: \r\nFW до 100 Мбит/с\r\nVPN (L3) до 50 Мбит/с"),sc_calc.const.continent.platform.ip64.create_with_description("Интерфейсы:\r\n3x Ethernet\r\n\r\nПроизводительность: \r\nFW до 100 Мбит/с\r\nVPN (L3) до 10 Мбит/с"),sc_calc.const.continent.platform.ipc100.create_with_description("Интерфейсы:\r\n6x Gigabit Ethernet\r\n2x Gigabit  SFP\r\n\r\nПроизводительность: \r\nFW до 400 Мбит/с\r\nVPN (L3) до 300 Мбит/с"),sc_calc.const.continent.platform.ipc400.create_with_description("Интерфейсы:\r\n6x Gigabit Ethernet\r\n\r\nПроизводительность: \r\nFW до 1000 Мбит/с\r\nVPN (L3) до 500 Мбит/с"),sc_calc.const.continent.platform.ipc1000.create_with_description("Интерфейсы:\r\n10x Gigabit Ethernet\r\n\r\nПроизводительность: \r\nFW до 1000 Мбит/с\r\nVPN (L3) до 950 Мбит/с"),sc_calc.const.continent.platform.ipc1000f.create_with_description("Интерфейсы:\r\n6x Gigabit Ethernet\r\n4x Gigabit  SFP\r\n\r\nПроизводительность: \r\nFW до 1000 Мбит/с\r\nVPN (L3) до 950 Мбит/с"),sc_calc.const.continent.platform.ipc1000f2.create_with_description("Интерфейсы:\r\n10x Gigabit Ethernet\r\n8x Gigabit  SFP\r\n\r\nПроизводительность: \r\nFW до 1000 Мбит/с\r\nVPN (L3) до 950 Мбит/с"),sc_calc.const.continent.platform.ipc3000f.create_with_description("Интерфейсы:\r\n10x Gigabit Ethernet\r\n4x 10G SFP+\r\n\r\nПроизводительность: \r\nFW до 3500 Мбит/с\r\nVPN (L3) до 2500 Мбит/с"),sc_calc.const.continent.platform.transceiver_ipc3000f.create_with_description("Трансивер для IPC3000F"),sc_calc.const.continent.platform.ipc3034.create_with_description("Интерфейсы:\r\n34x Gigabit Ethernet\r\n\r\nПроизводительность: \r\nFW до 3500 Мбит/с\r\nVPN (L3) до 2500 Мбит/с"),sc_calc.const.continent.platform.ipc3034f.create_with_description("Интерфейсы:\r\n2x Gigabit Ethernet\r\n32x Gigabit SFP\r\n\r\nПроизводительность: \r\nFW до 3500 Мбит/с\r\nVPN (L3) до 2500 Мбит/с")],sc_calc.const.continent_gate.PLATFORMS[sc_calc.const.continent_gate.MODULE.CRYPTO_COMM]=[sc_calc.const.continent.platform.ipc10.create_with_description("Интерфейсы:\r\n3x Ethernet\r\n\r\nПроизводительность: \r\nVPN (L2) до 10 Мбит/с"),sc_calc.const.continent.platform.ipc25.create_with_description("Интерфейсы:\r\n4x Gigabit Ethernet\r\n1x Gigabit  SFP\r\n\r\nПроизводительность: \r\nVPN (L2) до 50 Мбит/с"),sc_calc.const.continent.platform.ipc100.create_with_description("Интерфейсы:\r\n6x Gigabit Ethernet\r\n2x Gigabit  SFP\r\n\r\nПроизводительность: \r\nVPN (L2) до 300 Мбит/с"),sc_calc.const.continent.platform.ipc400.create_with_description("Интерфейсы:\r\n6x Gigabit Ethernet\r\n\r\nПроизводительность: \r\nVPN (L2) до 500 Мбит/с"),sc_calc.const.continent.platform.ipc1000.create_with_description("Интерфейсы:\r\n10x Gigabit Ethernet\r\n\r\nПроизводительность: \r\nVPN (L2) до 950 Мбит/с"),sc_calc.const.continent.platform.ipc1000f.create_with_description("Интерфейсы:\r\n6x Gigabit Ethernet\r\n4x Gigabit  SFP\r\n\r\nПроизводительность: \r\nVPN (L2) до 950 Мбит/с"),sc_calc.const.continent.platform.ipc1000f2.create_with_description("Интерфейсы:\r\n10x Gigabit Ethernet\r\n8x Gigabit  SFP\r\n\r\nПроизводительность: \r\nVPN (L2) до 950 Мбит/с"),sc_calc.const.continent.platform.ipc3000f.create_with_description("Интерфейсы:\r\n10x Gigabit Ethernet\r\n4x 10G SFP+\r\n\r\nПроизводительность: \r\nVPN (L2) до 3000 Мбит/с"),sc_calc.const.continent.platform.transceiver_ipc3000f.create_with_description("Трансивер для IPC3000F"),sc_calc.const.continent.platform.ipc3034.create_with_description("Интерфейсы:\r\n34x Gigabit Ethernet\r\n\r\nПроизводительность: \r\nVPN (L2) до 3000 Мбит/с"),sc_calc.const.continent.platform.ipc3034f.create_with_description("Интерфейсы:\r\n2x Gigabit Ethernet\r\n32x Gigabit SFP\r\n\r\nПроизводительность: \r\nVPN (L2) до 3000 Мбит/c")],sc_calc.const.continent_gate.PLATFORMS[sc_calc.const.continent_gate.MODULE.DETECTOR]=[sc_calc.const.continent.platform.ipc10.create_with_description("Интерфейсы:\r\n3x Ethernet\r\n\r\nПроизводительность: \r\nIDS до 10 Мбит/с"),sc_calc.const.continent.platform.ipc25.create_with_description("Интерфейсы:\r\n4x Gigabit Ethernet\r\n1x Gigabit  SFP\r\n\r\nПроизводительность: \r\nIDS до 25 Мбит/с"),sc_calc.const.continent.platform.ipc100.create_with_description("Интерфейсы:\r\n6x Gigabit Ethernet\r\n2x Gigabit  SFP\r\n\r\nПроизводительность: \r\nIDS до 260 Мбит/с"),sc_calc.const.continent.platform.ipc400.create_with_description("Интерфейсы:\r\n6x Gigabit Ethernet\r\n\r\nПроизводительность: \r\nIDS до 500 Мбит/с"),sc_calc.const.continent.platform.ipc1000.create_with_description("Интерфейсы:\r\n10x Gigabit Ethernet\r\n\r\nПроизводительность: \r\nIDS до 600 Мбит/с"),sc_calc.const.continent.platform.ipc1000f.create_with_description("Интерфейсы:\r\n6x Gigabit Ethernet\r\n4x Gigabit  SFP\r\n\r\nПроизводительность: \r\nIDS до 600 Мбит/с"),sc_calc.const.continent.platform.ipc1000f2.create_with_description("Интерфейсы:\r\n10x Gigabit Ethernet\r\n8x Gigabit  SFP\r\n\r\nПроизводительность: \r\nIDS до 600 Мбит/с"),sc_calc.const.continent.platform.ipc3000f.create_with_description("Интерфейсы:\r\n10x Gigabit Ethernet\r\n4x 10G SFP+\r\n\r\nПроизводительность: \r\nIDS до 660 Мбит/с"),sc_calc.const.continent.platform.transceiver_ipc3000f.create_with_description("Трансивер для IPC3000F")],sc_calc.const.continent_gate.PLATFORMS[sc_calc.const.continent_gate.MODIFICATION.GATE_ACCESS]=[sc_calc.const.continent.platform.ipc25.create_with_description('Интерфейсы:\r\n4x Gigabit Ethernet\r\n1x Gigabit  SFP\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 10\r\nКоличество одновременно подключенных удаленных пользователей: до 25\r\n\r\nПроизводительность: \r\nFW до 100 Мбит/с\r\nVPN (L2, L3) до 50 Мбит/с\r\nIDS до 25 Мбит/с'),sc_calc.const.continent.platform.ipc100.create_with_description('Интерфейсы:\r\n6x Gigabit Ethernet\r\n2x Gigabit  SFP\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 500\r\nКоличество одновременно подключенных удаленных пользователей: до 500\r\n\r\nПроизводительность: \r\nFW до 400 Мбит/с\r\nVPN (L2, L3) до 300 Мбит/с\r\nIDS до 260 Мбит/с'),sc_calc.const.continent.platform.ipc400.create_with_description('Интерфейсы:\r\n6x Gigabit Ethernet\r\n\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 1000\r\nКоличество одновременно подключенных удаленных пользователей: до 1000\r\n\r\nПроизводительность: \r\nFW до 1000 Мбит/с\r\nVPN (L2, L3) до 500 Мбит/с\r\nIDS до 500 Мбит/с'),sc_calc.const.continent.platform.ipc1000.create_with_description('Интерфейсы:\r\n10x Gigabit Ethernet\r\n\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 3000\r\nКоличество одновременно подключенных удаленных пользователей: до 1000\r\n\r\nПроизводительность: \r\nFW до 1000 Мбит/с\r\nVPN (L2, L3) до 950 Мбит/с\r\nIDS до 600 Мбит/с'),sc_calc.const.continent.platform.ipc1000f.create_with_description('Интерфейсы:\r\n6x Gigabit Ethernet\r\n4x Gigabit  SFP\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 3000\r\nКоличество одновременно подключенных удаленных пользователей: до 1000\r\n\r\nПроизводительность: \r\nFW до 1000 Мбит/с\r\nVPN (L2, L3) до 950 Мбит/с\r\nIDS до 600 Мбит/с'),sc_calc.const.continent.platform.ipc1000f2.create_with_description('Интерфейсы:\r\n10x Gigabit Ethernet\r\n8x Gigabit  SFP\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 3000\r\nКоличество одновременно подключенных удаленных пользователей: до 1000\r\n\r\nПроизводительность: \r\nFW до 1000 Мбит/с\r\nVPN (L2, L3) до 950 Мбит/с\r\nIDS до 600 Мбит/с'),sc_calc.const.continent.platform.ipc3000f.create_with_description('Интерфейсы:\r\n10x Gigabit Ethernet\r\n4x 10G SFP+\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 3000\r\nКоличество одновременно подключенных удаленных пользователей: до 3000\r\n\r\nПроизводительность: \r\nFW до 3500 Мбит/с\r\nVPN (КШ) до 2500 Мбит/с\r\nVPN (КК) до 3000 Мбит/с\r\nIDS до 660 Мбит/с'),sc_calc.const.continent.platform.transceiver_ipc3000f.create_with_description("Трансивер для IPC3000F"),sc_calc.const.continent.platform.ipc3034.create_with_description('Интерфейсы:\r\n34x Gigabit Ethernet\r\n\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 3000\r\nКоличество одновременно подключенных удаленных пользователей: до 3000\r\n\r\nПроизводительность: \r\nFW до 3500 Мбит/с\r\nVPN (КШ) до 2500 Мбит/с\r\nVPN (КК) до 3000 Мбит/с\r\nIDS до 660 Мбит/с'),sc_calc.const.continent.platform.ipc3034f.create_with_description('Интерфейсы:\r\n2x Gigabit Ethernet\r\n32x Gigabit SFP\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 3000\r\nКоличество одновременно подключенных удаленных пользователей: до 3000\r\n\r\nПроизводительность: \r\nFW до 3500 Мбит/с\r\nVPN (КШ) до 2500 Мбит/с\r\nVPN (КК) до 3000 Мбит/с\r\nIDS до 660 Мбит/с'),sc_calc.const.continent.platform.ap_lic.create_with_description("Используется собственная криптобиблиотека"),sc_calc.const.continent.platform.ap_csp_lic.create_with_description("Используется  криптобиблиотека Крипто ПРО CSP 4.0")],sc_calc.const.continent_gate.PLATFORMS[sc_calc.const.continent_gate.MODIFICATION.SOA]=[sc_calc.const.continent.platform.ipc25.create_with_description('Интерфейсы:\r\n4x Gigabit Ethernet\r\n1x Gigabit  SFP\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 10\r\nКоличество одновременно подключенных удаленных пользователей: до 25\r\n\r\nПроизводительность: \r\nFW до 100 Мбит/с\r\nVPN (L2, L3) до 50 Мбит/с\r\nIDS до 25 Мбит/с'),sc_calc.const.continent.platform.ipc100.create_with_description('Интерфейсы:\r\n6x Gigabit Ethernet\r\n2x Gigabit  SFP\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 500\r\nКоличество одновременно подключенных удаленных пользователей: до 500\r\n\r\nПроизводительность: \r\nFW до 400 Мбит/с\r\nVPN (L2, L3) до 300 Мбит/с\r\nIDS до 260 Мбит/с'),sc_calc.const.continent.platform.ipc400.create_with_description('Интерфейсы:\r\n6x Gigabit Ethernet\r\n\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 1000\r\nКоличество одновременно подключенных удаленных пользователей: до 1000\r\n\r\nПроизводительность: \r\nFW до 1000 Мбит/с\r\nVPN (L2, L3) до 500 Мбит/с\r\nIDS до 500 Мбит/с'),sc_calc.const.continent.platform.ipc1000.create_with_description('Интерфейсы:\r\n10x Gigabit Ethernet\r\n\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 3000\r\nКоличество одновременно подключенных удаленных пользователей: до 1000\r\n\r\nПроизводительность: \r\nFW до 1000 Мбит/с\r\nVPN (L2, L3) до 950 Мбит/с\r\nIDS до 600 Мбит/с'),sc_calc.const.continent.platform.ipc1000f.create_with_description('Интерфейсы:\r\n6x Gigabit Ethernet\r\n4x Gigabit  SFP\r\n\r\nКоличество подключенных устройств АПКШ "Континент": до 3000\r\nКоличество одновременно подключенных удаленных пользователей: до 1000\r\n\r\nПроизводительность: \r\nFW до 1000 Мбит/с\r\nVPN (L2, L3) до 950 Мбит/с\r\nIDS до 600 Мбит/с')],sc_calc.const.continent_tls.PLATFORMS=[sc_calc.const.continent.platform.ipc100.create_with_description("Интерфейсы:\r\n6x Gigabit Ethernet\r\n2x Gigabit  SFP\r\n\r\nПроизводительность: \r\nHTTPS-прокси до 200 Мбит/с\r\nДо 500 одновременных подключений"),sc_calc.const.continent.platform.ipc400.create_with_description("Интерфейсы:\r\n6x Gigabit Ethernet\r\n\r\nПроизводительность: \r\nHTTPS-прокси до 700 Мбит/с\r\nДо 5000 одновременных подключений"),sc_calc.const.continent.platform.ipc1000.create_with_description("Интерфейсы:\r\n10x Gigabit Ethernet\r\n\r\nПроизводительность: \r\nHTTPS-прокси до 900 Мбит/с\r\nДо 10000 одновременных подключений"),sc_calc.const.continent.platform.ipc1000f.create_with_description("Интерфейсы:\r\n6x Gigabit Ethernet\r\n4x Gigabit  SFP\r\n\r\nПроизводительность: \r\nHTTPS-прокси до 900 Мбит/с\r\nДо 10000 одновременных подключений"),sc_calc.const.continent.platform.ipc3000f.create_with_description("Интерфейсы:\r\n10x Gigabit Ethernet\r\n4x 10G SFP+\r\n\r\nПроизводительность: \r\nHTTPS-прокси до 3000 Мбит/с\r\nДо 18000 одновременных подключений"),sc_calc.const.continent.platform.transceiver_ipc3000f.create_with_description("Трансивер для IPC3000F"),sc_calc.const.continent.platform.tls_100.create_with_description(""),sc_calc.const.continent.platform.tls_250.create_with_description(""),sc_calc.const.continent.platform.tls_500.create_with_description(""),sc_calc.const.continent.platform.tls_1000.create_with_description(""),sc_calc.const.continent.platform.tls_2500.create_with_description(""),sc_calc.const.continent.platform.tls_5000.create_with_description(""),sc_calc.const.continent.platform.tls_10000.create_with_description(""),sc_calc.const.continent.platform.tls_15000.create_with_description(""),sc_calc.const.continent.platform.tls_20000.create_with_description("")],sc_calc.const.continent_ids.PLATFORMS={},sc_calc.const.continent_ids.PLATFORMS[sc_calc.const.continent_ids.MODULE.NCC]=[sc_calc.const.continent.platform.ipc100nm.create_with_description('Интерфейсы:\r\n6x Gigabit Ethernet\r\n2x Gigabit  SFP\r\n\r\nКоличество подключенных устройств СОВ "Континент": до 50'),sc_calc.const.continent.platform.ipc1000nmf.create_with_description('Интерфейсы:\r\n6x Gigabit Ethernet\r\n4x Gigabit  SFP\r\n\r\nКоличество подключенных устройств СОВ "Континент": до 200'),sc_calc.const.continent.platform.ipc3000nmf.create_with_description('Интерфейсы:\r\n10x Gigabit Ethernet\r\n4x 10G SFP+\r\n\r\nКоличество подключенных устройств СОВ "Континент": до 300'),sc_calc.const.continent.platform.transceiver_ipc3000f.create_with_description("Трансивер для IPC3000F")],sc_calc.const.continent_ids.PLATFORMS[sc_calc.const.continent_ids.MODULE.DETECTOR]=[sc_calc.const.continent.platform.ipc100nd.create_with_description("Интерфейсы:\r\n6x Gigabit Ethernet\r\n2x Gigabit  SFP\r\n\r\nПроизводительность:\r\nIDS до 700 Мбит/с\r\nIPS до 370 Мбит/с"),sc_calc.const.continent.platform.ipc1000ndf.create_with_description("Интерфейсы:\r\n6x Gigabit Ethernet\r\n4x Gigabit  SFP\r\n\r\nПроизводительность:\r\nIDS до 1600 Мбит/с\r\nIPS до 1200 Мбит/с"),sc_calc.const.continent.platform.ipc3000ndf.create_with_description("Интерфейсы:\r\n10x Gigabit Ethernet\r\n4x 10G SFP+\r\n\r\nПроизводительность:\r\nIDS до 3900 Мбит/с\r\nIPS до 2400 Мбит/с"),sc_calc.const.continent.platform.transceiver_ipc3000f.create_with_description("Трансивер для IPC3000F")],sc_calc.const.continent_ids.PLATFORMS[sc_calc.const.continent_ids.MODULE.BALANCER]=[sc_calc.const.continent.platform.ipc3000nbf.create_with_description("Интерфейсы:\r\n10x Gigabit Ethernet\r\n4x 10G SFP+\r\n\r\nПодключение до 12 устройств"),sc_calc.const.continent.platform.transceiver_ipc3000f.create_with_description("Трансивер для IPC3000F")],sc_calc.const.continent_waf.PLATFORMS=[sc_calc.const.continent.platform.ipc400.create_with_description("Интерфейсы:\r\n6x Gigabit Ethernet"),sc_calc.const.continent.platform.ipc1000.create_with_description("Интерфейсы:\r\n10x Gigabit Ethernet"),sc_calc.const.continent.platform.ipc3000f.create_with_description("Интерфейсы:\r\n10x Gigabit Ethernet\r\n4x 10G SFP+"),sc_calc.const.continent.platform.transceiver_ipc3000f.create_with_description("Трансивер для IPC3000F")],sc_calc.const.continent_waf.LICENSE_PLATFORMS=[sc_calc.const.continent.platform.null,sc_calc.const.continent.platform.waf_1000_lics.create_with_description(""),sc_calc.const.continent.platform.waf_3000f_lics.create_with_description("")],"undefined"==typeof sc_calc&&(sc_calc={}),sc_calc.continent_gate_dto=function(){"use strict";sc_calc.base_dto.call(this,"sc_calc.continent_gate_dto")},sc_calc.continent_gate_dto.prototype=Object.create(sc_calc.base_dto.prototype),sc_calc.continent_gate_dto.prototype.kind=null,sc_calc.continent_gate_dto.prototype.cert_level=null,sc_calc.continent_gate_dto.prototype.module=null,sc_calc.continent_gate_dto.prototype.modification=null,sc_calc.continent_gate_dto.prototype.provider=null,sc_calc.continent_gate_dto.prototype.platform=null,sc_calc.continent_gate_dto.prototype.want_accessoire=!0,sc_calc.continent_gate_dto.prototype.extended_warranty=null,sc_calc.continent_gate_dto.prototype.is_cluster=null,sc_calc.continent_gate_dto.prototype.cert_type=null,sc_calc.continent_gate_dto.prototype.support_type=sc_calc.SUPPORT_TYPES[1],sc_calc.continent_gate_dto.prototype.toString=function(){"use strict";return"[ "+["Техподдержка: "+this.support_type.shortname].join(" | ")+" ]"},sc_calc.continent_gate=function(){"use strict";sc_calc.base_continent.call(this),this.code="calc-continent-gate",this.name='АПКШ "Континент" 3.7',this.support_prefix="HSEC",this.kind=ko.observable(sc_calc.const.continent_gate.KIND.NEW),this.cert_level=ko.observable(sc_calc.const.continent_gate.CERT_LEVEL.KS1),this.module=ko.observable(sc_calc.const.continent_gate.MODULE.NCC),this.modification=ko.observable(sc_calc.const.continent_gate.MODIFICATION.NCC),this.provider=ko.observable(sc_calc.const.continent_gate.PROVIDER.NONE),this.platform=ko.observable(null),this.want_accessoire=ko.observable(!0),this.extended_warranty=ko.observable(sc_calc.const.continent.EXTENDED_WARRANTY.NONE),this.q=ko.observable(1),this._restrict_value_as_positive_int(this.q),this.is_cluster=ko.observable(!1),this.cert_type=ko.observable(sc_calc.const.continent_gate.CERT_TYPE.FSTEK),this.support=ko.observable(sc_calc.SUPPORT_TYPES[1]),this.platforms=ko.computed(function(){switch(this.module()){case sc_calc.const.continent_gate.MODULE.NCC:return sc_calc.const.continent_gate.PLATFORMS[this.modification()];case sc_calc.const.continent_gate.MODULE.CRYPTO_GATE:return sc_calc.const.continent_gate.PLATFORMS[sc_calc.const.continent_gate.MODULE.CRYPTO_GATE];case sc_calc.const.continent_gate.MODULE.CRYPTO_COMM:return sc_calc.const.continent_gate.PLATFORMS[sc_calc.const.continent_gate.MODULE.CRYPTO_COMM];case sc_calc.const.continent_gate.MODULE.DETECTOR:return sc_calc.const.continent_gate.PLATFORMS[sc_calc.const.continent_gate.MODULE.DETECTOR];case sc_calc.const.continent_gate.MODULE.ACCESS:return sc_calc.const.continent_gate.PLATFORMS[this.modification()]}},this),this._is_cert_level_visible=function(){var t,c,e=this.platform(),s=this.module(),n=this.modification(),_=this.provider();return null!==e&&void 0!==e&&(!e.is_device&&(("AP-lic"===e.code||"AP-CSP4.0-lic"===e.code)&&(t=s===sc_calc.const.continent_gate.MODULE.NCC&&n===sc_calc.const.continent_gate.MODIFICATION.NCC_ACCESS&&_===sc_calc.const.continent_gate.PROVIDER.SEC_CODE,c=s===sc_calc.const.continent_gate.MODULE.ACCESS&&_===sc_calc.const.continent_gate.PROVIDER.SEC_CODE,t||c)))},this.is_cert_level_visible=ko.computed(this._is_cert_level_visible,this),this.is_ncc_access_enabled=ko.observable(!0),this.is_gate_access_enabled=ko.observable(!0),this.is_new_purchase=ko.computed(function(){return this.kind()===sc_calc.const.continent_gate.KIND.NEW},this),this.is_providers_visible=ko.computed(function(){var t=this.modification();switch(this.module()){case sc_calc.const.continent_gate.MODULE.NCC:case sc_calc.const.continent_gate.MODULE.ACCESS:return t===sc_calc.const.continent_gate.MODIFICATION.NCC_ACCESS||t===sc_calc.const.continent_gate.MODIFICATION.GATE_ACCESS}return!1},this),this.is_cluster_visible=ko.computed(function(){if(!this._not_null_or_undefined(this.platform()))return!1;if(!this.platform().is_device)return!1;if(this.kind()===sc_calc.const.continent_gate.KIND.NEW)switch(this.module()){case sc_calc.const.continent_gate.MODULE.CRYPTO_GATE:case sc_calc.const.continent_gate.MODULE.CRYPTO_COMM:return!0;case sc_calc.const.continent_gate.MODULE.ACCESS:switch(this.modification()){case sc_calc.const.continent_gate.MODIFICATION.GATE_ACCESS:return!0}}return!1},this),this.is_modification_visible=ko.computed(function(){switch(this.module()){case sc_calc.const.continent_gate.MODULE.NCC:case sc_calc.const.continent_gate.MODULE.ACCESS:return!0}return!1},this),this.is_soa_visible=ko.computed(function(){return this.module()===sc_calc.const.continent_gate.MODULE.NCC&&this.is_new_purchase()},this),this.is_ncc_visible=ko.computed(function(){return this.module()===sc_calc.const.continent_gate.MODULE.NCC},this),this.is_gate_access_visible=ko.computed(function(){return this.module()===sc_calc.const.continent_gate.MODULE.ACCESS},this),this.is_cert_type_visible=ko.computed(function(){switch(this.module()){case sc_calc.const.continent_gate.MODULE.DETECTOR:return!0}return!1},this),this.post_render_platform=function(t,c){ko.applyBindingsToNode(t,{disable:c.disable},c)}.bind(this),this.is_platform_disabled=function(t){if(null===t||void 0===t)return!0;if(this.module()===sc_calc.const.continent_gate.MODULE.NCC||this.module()===sc_calc.const.continent_gate.MODULE.ACCESS){if(this.modification()===sc_calc.const.continent_gate.MODIFICATION.NCC&&("AP-CSP4.0-lic"===t.code||"AP-lic"===t.code))return!0;if(this.modification()===sc_calc.const.continent_gate.MODIFICATION.NCC_ACCESS){if(this.provider()===sc_calc.const.continent_gate.PROVIDER.SEC_CODE&&"AP-CSP4.0-lic"===t.code)return!0;if(this.provider()===sc_calc.const.continent_gate.PROVIDER.CRYPTO_PRO&&"AP-lic"===t.code)return!0}if(this.modification()===sc_calc.const.continent_gate.MODIFICATION.GATE_ACCESS){if(this.provider()===sc_calc.const.continent_gate.PROVIDER.SEC_CODE&&"AP-CSP4.0-lic"===t.code)return!0;if(this.provider()===sc_calc.const.continent_gate.PROVIDER.CRYPTO_PRO&&"AP-lic"===t.code)return!0}}return!(this.module()!==sc_calc.const.continent_gate.MODULE.CRYPTO_GATE&&this.module()!==sc_calc.const.continent_gate.MODULE.CRYPTO_COMM&&this.module()!==sc_calc.const.continent_gate.MODULE.ACCESS||!this.is_cluster()||"IPC10"!==t.code&&"IPC25"!==t.code)},this.is_extended_warranty_enabled=ko.computed(function(){var t=this.platform();return null!==t&&void 0!==t&&t.is_device},this),this._price_numeric=ko.computed(this._get_price_numeric,this),this.price=ko.computed(this._get_price,this),this.is_ready_to_dump=ko.computed(this._get_is_ready_to_dump,this),this.kind.subscribe(function(t){t!==sc_calc.const.continent_gate.KIND.NEW&&this.is_cluster(!1),t===sc_calc.const.continent_gate.KIND.UPGRADE&&(this.module()===sc_calc.const.continent_gate.MODULE.DETECTOR&&this.module(sc_calc.const.continent_gate.MODULE.NCC),this.modification()===sc_calc.const.continent_gate.MODIFICATION.SOA&&this.modification(sc_calc.const.continent_gate.MODIFICATION.NCC))},this),this.module.subscribe(function(t){var c=this.platforms();c&&c.length>0&&this.platform(c[0]),this.is_cluster(!1),t===sc_calc.const.continent_gate.MODULE.NCC&&this.modification(sc_calc.const.continent_gate.MODIFICATION.NCC),t===sc_calc.const.continent_gate.MODULE.ACCESS&&this.modification(sc_calc.const.continent_gate.MODIFICATION.NCC_ACCESS),this.is_modification_visible()||this.modification(null)},this),this.modification.subscribe(function(t){switch(t){case sc_calc.const.continent_gate.MODIFICATION.NCC_ACCESS:case sc_calc.const.continent_gate.MODIFICATION.GATE_ACCESS:this.provider(sc_calc.const.continent_gate.PROVIDER.SEC_CODE);break;default:this.provider(sc_calc.const.continent_gate.PROVIDER.NONE)}this._ajust_cert_level()},this),this._recalc_platforms_visibility=function(){var t;_.forEach(this.platforms(),function(t){t.disable(this.is_platform_disabled(t))}.bind(this)),this.platform()&&this.platform().disable()&&(t=_.find(this.platforms(),function(t){return!t.disable()}),this.platform(t))},this.provider.subscribe(function(){this._recalc_platforms_visibility(),this._ajust_cert_level()},this),this.is_cluster.subscribe(function(){this._recalc_platforms_visibility()},this),this.platform.subscribe(function(){this._ajust_cert_level()},this),this._ajust_cert_level=function(){var t=this.platform();null!==t&&void 0!==t&&(t.is_device?this._is_non_ks3_device(this.module(),this.modification(),this.provider())?this.cert_level(sc_calc.const.continent_gate.CERT_LEVEL.KS2):this.cert_level(sc_calc.const.continent_gate.CERT_LEVEL.KS3):this.cert_level(sc_calc.const.continent_gate.CERT_LEVEL.KS2))}},sc_calc.continent_gate.prototype=Object.create(sc_calc.base_continent.prototype),sc_calc.continent_gate.prototype.dto_ctor=sc_calc.continent_gate_dto,sc_calc.continent_gate.prototype.get_price_list=function(){"use strict";return sc_calc.LICENSES},sc_calc.continent_gate.prototype._main_q_to_lic_q=function(t){"use strict";return isNaN(t)||t<=0?"":t<=49?"1-49":t<=249?"50-249":t<=499?"250-499":t<=999?"500-999":"1000"},sc_calc.continent_gate.prototype._infix_by_module=function(t,c){"use strict";switch(t){case sc_calc.const.continent_gate.MODULE.NCC:return"-CM";case sc_calc.const.continent_gate.MODULE.CRYPTO_GATE:return"-FW";case sc_calc.const.continent_gate.MODULE.CRYPTO_COMM:return"-CC";case sc_calc.const.continent_gate.MODULE.DETECTOR:switch(c){case sc_calc.const.continent_gate.CERT_TYPE.FSTEK:return"-DA";case sc_calc.const.continent_gate.CERT_TYPE.FSB:return"-DAC";default:return""}default:return""}},sc_calc.continent_gate.prototype._infix_by_modification=function(t){"use strict";if(null===t||void 0===t)return"";switch(t){case sc_calc.const.continent_gate.MODIFICATION.NCC:return"";case sc_calc.const.continent_gate.MODIFICATION.NCC_ACCESS:case sc_calc.const.continent_gate.MODIFICATION.GATE_ACCESS:return"-ACS";case sc_calc.const.continent_gate.MODIFICATION.SOA:return"C";case sc_calc.const.continent_gate.MODIFICATION.NONE:return this.SPOILER;default:throw new Error("Unknown sc_calc.const.continent_gate.MODIFICATION "+t)}},sc_calc.continent_gate.prototype._infix_by_cert_level=function(t,c){"use strict";if(c===sc_calc.const.continent_gate.MODULE.DETECTOR)return"";switch(t){case sc_calc.const.continent_gate.CERT_LEVEL.KS1:return"-KC1";case sc_calc.const.continent_gate.CERT_LEVEL.KS2:return"-KC2";case sc_calc.const.continent_gate.CERT_LEVEL.KS3:return"-KC3";case sc_calc.const.continent_gate.CERT_LEVEL.NONE:return this.SPOILER;default:throw new Error("Unknown sc_calc.const.continent_gate.CERT_LEVEL "+t)}},sc_calc.continent_gate.prototype._infix_by_provider=function(t){"use strict";if(null===t||void 0===t)return"";switch(t){case sc_calc.const.continent_gate.PROVIDER.SEC_CODE:return"";case sc_calc.const.continent_gate.PROVIDER.CRYPTO_PRO:return"-CSP4.0";case sc_calc.const.continent_gate.PROVIDER.NONE:return"";default:throw new Error("Unknown sc_calc.const.continent_gate.PROVIDER "+t)}},sc_calc.continent_gate.prototype._infix_by_platform=function(t,c,e,s){"use strict";switch(chai.expect(arguments).to.be.lengthOf(4),t){case sc_calc.const.continent_gate.KIND.NEW:return"-"+c.code;case sc_calc.const.continent_gate.KIND.UPGRADE:return e===sc_calc.const.continent_gate.MODULE.CRYPTO_GATE&&s||e===sc_calc.const.continent_gate.MODULE.CRYPTO_COMM||e===sc_calc.const.continent_gate.MODULE.ACCESS&&s?"-"+c.rn_code.replace(/-/g,""):"-"+c.rn_code;default:return this.SPOILER}},sc_calc.continent_gate.prototype._infix_by_cluster=function(t){"use strict";return t?"-HA":""},sc_calc.continent_gate.prototype._is_non_ks3_device=function(t,c,e){"use strict";var s,n;return s=t===sc_calc.const.continent_gate.MODULE.NCC&&c===sc_calc.const.continent_gate.MODIFICATION.NCC_ACCESS&&e===sc_calc.const.continent_gate.PROVIDER.CRYPTO_PRO,n=t===sc_calc.const.continent_gate.MODULE.ACCESS&&e===sc_calc.const.continent_gate.PROVIDER.CRYPTO_PRO,s||n},sc_calc.continent_gate.prototype._global_guard_prevents=function(t){"use strict";var c=t.cert_level,e=t.module,s=t.modification,n=t.provider;return!(!t.platform.is_device||c===sc_calc.const.continent_gate.CERT_LEVEL.KS3||this._is_non_ks3_device(e,s,n))},sc_calc.continent_gate.prototype._main_code=function(t,c){"use strict";var e,s=t.kind,n=t.cert_level,_=t.module,i=t.modification,o=t.provider,r=t.platform,a=t.is_cluster,l=t.cert_type;return chai.expect(arguments).to.be.lengthOf(2),e="HSEC-3.7",null===r||void 0===r?this.SPOILER:this._global_guard_prevents(t)?this.SPOILER:("lics"===r.code?(e+="-CM",e+="-lic ["+this._main_q_to_lic_q(c)+"]"):"AP-lic"===r.code||"AP-CSP4.0-lic"===r.code?s===sc_calc.const.continent_gate.KIND.NEW?(e+=this._infix_by_modification(i),e+="-AP",e+=this._infix_by_provider(o),e+="-lic ["+this._main_q_to_lic_q(c)+"]",e+="-SP1Y"):s===sc_calc.const.continent_gate.KIND.UPGRADE&&(e+="-AP-3.X",e+=this._infix_by_cert_level(n,_),e+=this._infix_by_provider(o),e+="-UpGrade-lic-SP1Y"):"arcsight"===r.code?e+="-SIEMCON-lic":"transceiver-ipc3000f"===r.code?e="HSEC-IPC3000F- 10GB-SFP-Optic":(e+=this._infix_by_platform(s,r,_,a),e+=this._infix_by_module(_,l),(_===sc_calc.const.continent_gate.MODULE.CRYPTO_GATE||_===sc_calc.const.continent_gate.MODULE.CRYPTO_COMM&&s===sc_calc.const.continent_gate.KIND.UPGRADE)&&(e+=this._infix_by_cluster(a)),e+=this._infix_by_modification(i),_===sc_calc.const.continent_gate.MODULE.ACCESS&&sc_calc.const.continent_gate.MODIFICATION.GATE_ACCESS&&(e+=this._infix_by_cluster(a)),e+=this._infix_by_provider(o),_===sc_calc.const.continent_gate.MODULE.CRYPTO_COMM&&s===sc_calc.const.continent_gate.KIND.NEW&&n===sc_calc.const.continent_gate.CERT_LEVEL.KS3&&(e+=this._infix_by_cluster(a)),i!==sc_calc.const.continent_gate.MODIFICATION.SOA&&(e+=this._infix_by_cert_level(n,_)),s===sc_calc.const.continent_gate.KIND.UPGRADE&&(e+="-3.X-UpGrade-lic"),e+="-SP1Y"),e)},sc_calc.continent_gate.prototype._prepare_usual_continent_gate=function(t,c){"use strict";return this._prepare_usual(this.get_price_list(),t,c)},sc_calc.continent_gate.prototype._prepare_main=function(t,c){"use strict";var e,s;return chai.expect(arguments).to.be.lengthOf(2),e=this._main_code(t,c),s=this._prepare_usual_continent_gate(e,c),(s||{}).recalculate=this._prepare_main.bind(this,t),s},sc_calc.continent_gate.prototype._prepare_disk=function(t,c){"use strict";var e=t.kind,s=t.module,n=t.cert_level,_=t.modification,i=t.provider,o=t.platform;if(this._global_guard_prevents(t))return this.SPOILER;switch(e){case sc_calc.const.continent_gate.KIND.UPGRADE:switch(s){case sc_calc.const.continent_gate.MODULE.NCC:case sc_calc.const.continent_gate.MODULE.ACCESS:switch(_){case sc_calc.const.continent_gate.MODIFICATION.NCC:return this._prepare_usual_continent_gate("HSEC-3.7-CM"+this._infix_by_cert_level(n)+"-DISK-SKZI/SZI",1);case sc_calc.const.continent_gate.MODIFICATION.NCC_ACCESS:switch(i){case sc_calc.const.continent_gate.PROVIDER.SEC_CODE:if(o&&"AP-lic"===o.code)return this._prepare_usual_continent_gate("HSEC-3.7-AP-DISK-SKZI/SZI"+this._infix_by_cert_level(n),c);if(o&&o.is_device)return this._prepare_usual_continent_gate("HSEC-3.7-CM-ACS-KC3-DISK-SKZI/SZI",c);break;case sc_calc.const.continent_gate.PROVIDER.CRYPTO_PRO:if(o&&"AP-CSP4.0-lic"===o.code)return this._prepare_usual_continent_gate("HSEC-3.7-AP-CSP4.0-DISK-SKZI/SZI",c);if(o&&o.is_device)return this._prepare_usual_continent_gate("HSEC-3.7-CM-ACS-KC2-CSP4.0-DISK-SKZI/SZI",c)}break;case sc_calc.const.continent_gate.MODIFICATION.GATE_ACCESS:switch(i){case sc_calc.const.continent_gate.PROVIDER.SEC_CODE:if(o&&"AP-lic"===o.code)return this._prepare_usual_continent_gate("HSEC-3.7-AP-DISK-SKZI/SZI"+this._infix_by_cert_level(n),c);if(o&&o.is_device)return this._prepare_usual_continent_gate("HSEC-3.7-ACS-KC3-DISK-SKZI/SZI",c);break;case sc_calc.const.continent_gate.PROVIDER.CRYPTO_PRO:if(o&&"AP-CSP4.0-lic"===o.code)return this._prepare_usual_continent_gate("HSEC-3.7-ACS-KC2-CSP4.0-DISK-SKZI/SZI",c);if(o&&o.is_device)return this._prepare_usual_continent_gate("HSEC-3.7-ACS-KC2-CSP4.0-DISK-SKZI/SZI",c)}}break;case sc_calc.const.continent_gate.MODULE.CRYPTO_GATE:return this._prepare_usual_continent_gate("HSEC-3.7-FW"+this._infix_by_cert_level(n)+"-DISK-SKZI/SZI",1);case sc_calc.const.continent_gate.MODULE.CRYPTO_COMM:return this._prepare_usual_continent_gate("HSEC-3.7-CC"+this._infix_by_cert_level(n)+"-DISK-SKZI/SZI",1)}break;case sc_calc.const.continent_gate.KIND.NEW:switch(s){case sc_calc.const.continent_gate.MODULE.NCC:case sc_calc.const.continent_gate.MODULE.ACCESS:switch(_){case sc_calc.const.continent_gate.MODIFICATION.NCC:break
;case sc_calc.const.continent_gate.MODIFICATION.NCC_ACCESS:case sc_calc.const.continent_gate.MODIFICATION.GATE_ACCESS:switch(i){case sc_calc.const.continent_gate.PROVIDER.SEC_CODE:if(o&&"AP-lic"===o.code)return this._prepare_usual_continent_gate("HSEC-3.7-AP-DISK-SKZI/SZI"+this._infix_by_cert_level(n,s),c);break;case sc_calc.const.continent_gate.PROVIDER.CRYPTO_PRO:if(o&&"AP-CSP4.0-lic"===o.code)return this._prepare_usual_continent_gate("HSEC-3.7-AP-CSP4.0-DISK-SKZI/SZI",c)}}}}return null},sc_calc.continent_gate.prototype._prepare_accessoire=function(t){"use strict";return this._has_valid_dto_property(t,"platform")&&this._has_valid_dto_property(t,"kind")&&t.kind===sc_calc.const.continent_gate.KIND.NEW?sc_calc.base_continent.prototype._prepare_accessoire.call(this,t):null},sc_calc.continent_gate.prototype._is_disk_count_should_be_equal_to_main_count=function(t){"use strict";return!!(t.platform&&"AP-lic"===t.platform.code||"AP-CSP4.0-lic"===t.platform.code)||t.kind===sc_calc.const.continent_gate.KIND.UPGRADE},sc_calc.continent_gate.prototype._calculate_items=function(t,c){"use strict";var e,s,n,i,o,r,a;return chai.expect(arguments).to.be.lengthOf(2),n=this._prepare_main(t,c),null!==n&&(i=this._prepare_disk(t,c),o=this._prepare_extended_warranty(t),r=null!==n?this._prepare_accessoire(t):null,null!==i&&(i.has_support=!1,i.depends_upon.push(n.id),i.can_delete=!1,this._is_disk_count_should_be_equal_to_main_count(t)&&n.q.subscribe(function(t){i.q(t),"function"==typeof i.sum?i.sum(i.price()*t):i.sum=i.price*t})),null!==o&&(o.has_support=!1,o.depends_upon.push(n.id)),null!==r&&(r.has_support=!1,r.depends_upon.push(n.id),this._bind_accessoire_recalc(t,n,r))),e=[n,i,o,r],e=_.filter(e,this._not_null_or_undefined),s=_.chain(e).filter(["has_support",!0]).map("sum").sum().value(),a=this._prepare_emit_support(t.support_type.code,s),null!==a&&null!==n&&(a.depends_upon.push(n.id),e.push(a)),e},sc_calc.continent_gate.prototype._get_dto=function(){"use strict";var t=new sc_calc.continent_gate_dto;return t.kind=this.kind(),t.cert_level=this.cert_level(),t.module=this.module(),t.modification=this.modification(),t.provider=this.provider(),t.platform=this.platform(),t.want_accessoire=this.want_accessoire(),t.extended_warranty=this.extended_warranty(),t.is_cluster=this.is_cluster(),t.cert_type=this.cert_type(),t.support_type=this.support(),t},sc_calc.continent_gate.prototype._emit_items=function(){"use strict";var t=this.q(),c=this._get_dto();return this._calculate_items(c,t)},"undefined"==typeof sc_calc&&(sc_calc={}),sc_calc.continent_tls_dto=function(t,c,e,s){"use strict";sc_calc.base_dto.call(this,"sc_calc.continent_tls_dto"),this.platform=t,this.cert_level=c,this.extended_warranty=e,this.support_type=s},sc_calc.continent_tls_dto.prototype=Object.create(sc_calc.base_dto.prototype),sc_calc.continent_tls_dto.prototype.want_accessoire=!0,sc_calc.continent_tls_dto.prototype.toString=function(){"use strict";var t={code:"не указано"};return"[ Платформа "+(this.platform||t).code+" ]"},sc_calc.continent_tls=function(){"use strict";sc_calc.base_continent.call(this),this.code="calc-continent-tls",this.name="Континент TLS VPN",this.support_prefix="HSEC",this.cert_level=ko.observable(sc_calc.const.continent_tls.CERT_LEVEL.KC1),this.platform=ko.observable(null),this.want_accessoire=ko.observable(!0),this.q=ko.observable(1),this._restrict_value_as_positive_int(this.q),this.support=ko.observable(sc_calc.SUPPORT_TYPES[1]),this.extended_warranty=ko.observable(sc_calc.const.continent.EXTENDED_WARRANTY.NONE),this.platforms=ko.observableArray(sc_calc.const.continent_tls.PLATFORMS),this.is_extended_warranty_enabled=ko.computed(function(){var t=this.platform();return null!==t&&void 0!==t&&t.is_device},this),this._price_numeric=ko.computed(this._get_price_numeric,this),this.price=ko.computed(this._get_price,this),this.is_ready_to_dump=ko.computed(this._get_is_ready_to_dump,this)},sc_calc.continent_tls.prototype=Object.create(sc_calc.base_continent.prototype);sc_calc.continent_tls.prototype.dto_ctor=sc_calc.continent_tls_dto,sc_calc.continent_tls.prototype.get_price_list=function(){"use strict";return sc_calc.LICENSES},sc_calc.continent_tls.prototype._server_code=function(t){"use strict";var c="HSEC-1.0-";return this._has_valid_dto_property(t,"platform")?"transceiver-ipc3000f"===t.platform.code?"HSEC-IPC3000F- 10GB-SFP-Optic":(t.platform.is_device?c+=t.platform.code+"-TLS-VPN-SP1Y":c+="TLS-SERVER-"+t.platform.code+"-lic",c):this.SPOILER},sc_calc.continent_tls.prototype._prepare_usual_continent_tls=function(t,c){"use strict";return this._prepare_usual(this.get_price_list(),t,c)},sc_calc.continent_tls.prototype._prepare_server=function(t,c){"use strict";var e,s;return chai.expect(arguments).to.be.lengthOf(2),chai.expect(t).to.be.an.instanceOf(sc_calc.continent_tls_dto),e=this._server_code(t),s=this._prepare_usual_continent_tls(e,c),(s||{}).recalculate=this._prepare_server.bind(this,t),s},sc_calc.continent_tls.prototype._prepare_disk=function(t){"use strict";if(!this._has_valid_dto_property(t,"cert_level")||!this._has_valid_dto_property(t,"platform"))return null;if(t.platform.is_device)return null;switch(t.cert_level){case sc_calc.const.continent_tls.CERT_LEVEL.KC1:return this._prepare_usual_continent_tls("HSEC-1.0-TLS-TS-КС1-DISK-SKZI",1);case sc_calc.const.continent_tls.CERT_LEVEL.KC2:return this._prepare_usual_continent_tls("HSEC-1.0-TLS-TS-КС2-DISK-SKZI",1)}return null},sc_calc.continent_tls.prototype._calculate_items=function(t,c){"use strict";var e,s,n,i,o,r,a;return chai.expect(arguments).to.be.lengthOf(2),chai.expect(t).to.be.an.instanceOf(sc_calc.continent_tls_dto),n=this._prepare_server(t,c),i=this._prepare_disk(t),o=this._prepare_extended_warranty(t),null!==n&&(null!==i&&(i.has_support=!1,i.depends_upon.push(n.id),i.can_delete=!1),null!==o&&(o.has_support=!1,o.depends_upon.push(n.id)),null!==(r=this._prepare_accessoire(t))&&(r.has_support=!1,r.depends_upon.push(n.id),this._bind_accessoire_recalc(t,n,r))),e=[n,i,o,r],e=_.filter(e,this._not_null_or_undefined),t.support_type&&(s=_.chain(e).filter(["has_support",!0]).map("sum").sum().value(),null!==(a=this._prepare_emit_support(t.support_type.code,s))&&null!==n&&(a.depends_upon.push(n.id),e.push(a))),e},sc_calc.continent_tls.prototype._emit_items=function(){"use strict";var t=this.q(),c=new sc_calc.continent_tls_dto;return c.platform=this.platform(),c.want_accessoire=this.want_accessoire(),c.extended_warranty=this.extended_warranty(),c.support_type=this.support(),c.cert_level=this.cert_level(),this._calculate_items(c,t)},"undefined"==typeof sc_calc&&(sc_calc={}),sc_calc.continent_ids_dto=function(t,c,e,s){"use strict";sc_calc.base_dto.call(this,"sc_calc.continent_ids_dto"),this.module=t,this.platform=c,this.extended_warranty=e,this.support_type=s},sc_calc.continent_ids_dto.prototype=Object.create(sc_calc.base_dto.prototype),sc_calc.continent_ids_dto.prototype.want_accessoire=!0,sc_calc.continent_ids_dto.prototype.toString=function(){"use strict";var t={code:"не указано"};return"[ "+["Модуль "+this.module,"Платформа "+(this.platform||t).code].join(" | ")+" ]"},sc_calc.continent_ids=function(){"use strict";sc_calc.base_continent.call(this),this.code="calc-continent-ids",this.name='СОВ "Континент" 4.0',this.support_prefix="HSEC",this.module=ko.observable(sc_calc.const.continent_ids.MODULE.NCC),this.platform=ko.observable(null),this.want_accessoire=ko.observable(!0),this.extended_warranty=ko.observable(sc_calc.const.continent.EXTENDED_WARRANTY.NONE),this.q=ko.observable(1),this._restrict_value_as_positive_int(this.q),this.support=ko.observable(sc_calc.SUPPORT_TYPES[1]),this.platforms=ko.computed(function(){return sc_calc.const.continent_ids.PLATFORMS[this.module()]},this),this._price_numeric=ko.computed(this._get_price_numeric,this),this.price=ko.computed(this._get_price,this),this.is_ready_to_dump=ko.computed(this._get_is_ready_to_dump,this)},sc_calc.continent_ids.prototype=Object.create(sc_calc.base_continent.prototype),sc_calc.continent_ids.prototype.dto_ctor=sc_calc.continent_ids_dto,sc_calc.continent_ids.prototype.get_price_list=function(){"use strict";return sc_calc.LICENSES},sc_calc.continent_ids.prototype._server_code=function(t){"use strict";return this._has_valid_dto_property(t,"platform")?"transceiver-ipc3000f"===t.platform.code?"HSEC-IPC3000F- 10GB-SFP-Optic":"HSEC-3.7-"+t.platform.code+"-SP1Y":this.SPOILER},sc_calc.continent_ids.prototype._prepare_usual_continent_ids=function(t,c){"use strict";return this._prepare_usual(this.get_price_list(),t,c)},sc_calc.continent_ids.prototype._prepare_server=function(t,c){"use strict";var e,s;return chai.expect(arguments).to.be.lengthOf(2),chai.expect(t).to.be.an.instanceOf(sc_calc.continent_ids_dto),e=this._server_code(t),s=this._prepare_usual_continent_ids(e,c),(s||{}).recalculate=this._prepare_server.bind(this,t),s},sc_calc.continent_ids.prototype._accessoire_default_q=function(t,c){"use strict";if("HSEC-IPC3000F- 10GB-SFP-Optic"===c)switch(t.module){case sc_calc.const.continent_ids.MODULE.DETECTOR:return 1;case sc_calc.const.continent_ids.MODULE.BALANCER:return 4}return sc_calc.base_continent.prototype._accessoire_default_q.call(this,t,c)},sc_calc.continent_ids.prototype._calculate_items=function(t,c){"use strict";var e,s,n=null,i=null,o=null,r=null;return chai.expect(arguments).to.be.lengthOf(2),chai.expect(t).to.be.an.instanceOf(sc_calc.continent_ids_dto),n=this._prepare_server(t,c),i=this._prepare_extended_warranty(t),null!==n&&(null!==i&&(i.depends_upon.push(n.id),i.has_support=!1),null!==(o=this._prepare_accessoire(t))&&(o.depends_upon.push(n.id),o.has_support=!1,this._bind_accessoire_recalc(t,n,o))),e=[n,i,o],e=_.filter(e,this._not_null_or_undefined),t.support_type&&(s=_.chain(e).filter(["has_support",!0]).map("sum").sum().value(),null!==(r=this._prepare_emit_support(t.support_type.code,s))&&null!==n&&(r.depends_upon.push(n.id),e.push(r))),e},sc_calc.continent_ids.prototype._emit_items=function(){"use strict";var t=this.q(),c=new sc_calc.continent_ids_dto;return c.module=this.module(),c.platform=this.platform(),c.want_accessoire=this.want_accessoire(),c.extended_warranty=this.extended_warranty(),c.support_type=this.support(),this._calculate_items(c,t)},"undefined"==typeof sc_calc&&(sc_calc={}),sc_calc.continent_waf_dto=function(t,c,e){"use strict";sc_calc.base_dto.call(this,"sc_calc.continent_waf_dto"),this.platform=t,this.extended_warranty=c,this.support_type=e},sc_calc.continent_waf_dto.prototype=Object.create(sc_calc.base_dto.prototype),sc_calc.continent_waf_dto.prototype.want_accessoire=!0,sc_calc.continent_waf_dto.prototype.toString=function(){"use strict";var t={code:"не указано"};return"[ Платформа "+(this.platform||t).code+" ]"},sc_calc.continent_waf=function(){"use strict";sc_calc.base_continent.call(this),this.code="calc-continent-waf",this.name="Континент WAF",this.support_prefix="HSEC",this.platform=ko.observable(null),this.want_accessoire=ko.observable(!0),this.q=ko.observable(1),this._restrict_value_as_positive_int(this.q),this.support=ko.observable(sc_calc.SUPPORT_TYPES[1]),this.extended_warranty=ko.observable(sc_calc.const.continent.EXTENDED_WARRANTY.NONE),this.platforms=ko.observableArray(sc_calc.const.continent_waf.PLATFORMS),this._price_numeric=ko.computed(this._get_price_numeric,this),this.price=ko.computed(this._get_price,this),this.is_ready_to_dump=ko.computed(this._get_is_ready_to_dump,this)},sc_calc.continent_waf.prototype=Object.create(sc_calc.base_continent.prototype),sc_calc.continent_waf.prototype.dto_ctor=sc_calc.continent_waf_dto,sc_calc.continent_waf.prototype.get_price_list=function(){"use strict";return sc_calc.LICENSES},sc_calc.continent_waf.prototype._server_code=function(t){"use strict";return this._has_valid_dto_property(t,"platform")?"transceiver-ipc3000f"===t.platform.code?"HSEC-IPC3000F- 10GB-SFP-Optic":"HSEC-1.0-"+t.platform.code+"-WAF-SP1Y":this.SPOILER},sc_calc.continent_waf.prototype._calculate_items=function(t,c){"use strict";var e,s,n,i,o,r;return chai.expect(arguments).to.be.lengthOf(2),chai.expect(t).to.be.an.instanceOf(sc_calc.continent_waf_dto),n=this._prepare_item(this._server_code.bind(this),sc_calc.LICENSES,t,c),i=this._prepare_extended_warranty(t),null!==n&&(null!==i&&(i.depends_upon.push(n.id),i.has_support=!1),null!==(o=this._prepare_accessoire(t))&&(o.depends_upon.push(n.id),o.has_support=!1,this._bind_accessoire_recalc(t,n,o))),e=[n,i,o],e=_.filter(e,this._not_null_or_undefined),t.support_type&&(s=_.chain(e).filter(["has_support",!0]).map("sum").sum().value(),null!==(r=this._prepare_emit_support(t.support_type.code,s))&&null!==n&&(r.depends_upon.push(n.id),e.push(r))),e},sc_calc.continent_waf.prototype._emit_items=function(){"use strict";var t=this.q(),c=new sc_calc.continent_waf_dto;return c.platform=this.platform(),c.want_accessoire=this.want_accessoire(),c.extended_warranty=this.extended_warranty(),c.support_type=this.support(),this._calculate_items(c,t)},"undefined"==typeof sc_calc&&(sc_calc={}),sc_calc.continent=function(){"use strict";sc_calc.base_calc.call(this,sc_calc.CATEGORIES.NET),this.code="calc-continent",this.name="Континент",this.support_prefix="HSEC",this.product=ko.observable(sc_calc.const.continent.PRODUCT.GATE),this.children={},this.children[sc_calc.const.continent.PRODUCT.GATE]=new sc_calc.continent_gate,this.children[sc_calc.const.continent.PRODUCT.TLS]=new sc_calc.continent_tls,this.children[sc_calc.const.continent.PRODUCT.IDS]=new sc_calc.continent_ids,this.children[sc_calc.const.continent.PRODUCT.WAF]=new sc_calc.continent_waf,this.active_child=ko.observable(this.children[this.product()]),this._price_numeric=ko.computed(function(){return this.active_child()._price_numeric()},this),this.is_ready_to_dump=ko.computed(function(){return this.active_child().is_ready_to_dump()},this),this.price=ko.computed(function(){return this.active_child().price()},this),this.product.subscribe(function(t){this.active_child(this.children[t])},this)},sc_calc.continent.prototype=Object.create(sc_calc.base_calc.prototype),sc_calc.continent.prototype._emit_items=function(){"use strict";return this.active_child()._emit_items()},"undefined"==typeof sc_calc&&(sc_calc={}),void 0===sc_calc.const&&(sc_calc.const={}),sc_calc.const.sobol={},sc_calc.const.sobol.KIND={NONE:"sc_calc.const.sobol.KIND.NONE",NEW:"sc_calc.const.sobol.KIND.NEW",COMPONENTS:"sc_calc.const.sobol.KIND.COMPONENTS"},sc_calc.const.sobol.CERT_TYPE={NONE:"sc_calc.const.sobol.CERT_TYPE.NONE",FSTEK:"sc_calc.const.sobol.CERT_TYPE.FSTEK",FSB:"sc_calc.const.sobol.CERT_TYPE.FSB"},sc_calc.sobol_token=function(t,c){"use strict";this.code=t,this.name=c},sc_calc.sobol_tokens=[],sc_calc.sobol_tokens.NONE=new sc_calc.sobol_token("-","Без идентификатора"),sc_calc.sobol_tokens.RUTOKEN=new sc_calc.sobol_token("Rutoken","Rutoken"),sc_calc.sobol_tokens.ETOKEN=new sc_calc.sobol_token("eToken-PRO-Java","eToken PRO Java"),sc_calc.sobol_tokens.IDS_1992=new sc_calc.sobol_token("iButton-DS-1992","iButton DS 1992"),sc_calc.sobol_tokens.IDS_1994=new sc_calc.sobol_token("iButton-DS-1994","iButton DS 1994"),sc_calc.sobol_tokens.IDS_1995=new sc_calc.sobol_token("iButton-DS-1995","iButton DS 1995"),sc_calc.sobol_tokens.IDS_1996=new sc_calc.sobol_token("iButton-DS-1996","iButton DS 1996"),sc_calc.sobol_tokens.push(sc_calc.sobol_tokens.NONE),sc_calc.sobol_tokens.push(sc_calc.sobol_tokens.RUTOKEN),sc_calc.sobol_tokens.push(sc_calc.sobol_tokens.ETOKEN),sc_calc.sobol_tokens.push(sc_calc.sobol_tokens.IDS_1992),sc_calc.sobol_tokens.push(sc_calc.sobol_tokens.IDS_1994),sc_calc.sobol_tokens.push(sc_calc.sobol_tokens.IDS_1995),sc_calc.sobol_tokens.push(sc_calc.sobol_tokens.IDS_1996),sc_calc.sobol_platform=function(t,c){"use strict";this.code=t,this.name=c},sc_calc.sobol_platforms=[],sc_calc.sobol_platforms.PCI=new sc_calc.sobol_platform("PCI","PCI"),sc_calc.sobol_platforms.PCI_E=new sc_calc.sobol_platform("PCI-Express","PCI Express"),sc_calc.sobol_platforms.MINI_PCI_E=new sc_calc.sobol_platform("Mini-PCI-Express","Mini PCI Express"),sc_calc.sobol_platforms.HALF_MINI=new sc_calc.sobol_platform("Mini-PCI-Express-Half-Size","Mini PCI Express Half Size"),sc_calc.sobol_platforms.push(sc_calc.sobol_platforms.PCI),sc_calc.sobol_platforms.push(sc_calc.sobol_platforms.PCI_E),sc_calc.sobol_platforms.push(sc_calc.sobol_platforms.MINI_PCI_E),sc_calc.sobol_platforms.push(sc_calc.sobol_platforms.HALF_MINI),sc_calc.sobol_component=function(t,c){"use strict";this.code=t,this.name=c},sc_calc.sobol_components=[new sc_calc.sobol_component("SN-TMC-RU","Считыватель iButton"),new sc_calc.sobol_component("SN-TMC-INT","Считыватель iButton внутренний"),new sc_calc.sobol_component("DS-1992","Идентификатор iButton DS1992"),new sc_calc.sobol_component("DS-1994","Идентификатор iButton DS1994"),new sc_calc.sobol_component("DS-1995","Идентификатор iButton DS1995"),new sc_calc.sobol_component("DS-1996","Идентификатор iButton DS1996"),new sc_calc.sobol_component("DS-1996-c","Идентификатор DS1996 карта"),new sc_calc.sobol_component("ID-eT72","Идентификатор eToken PRO (Java) (72 КБ)"),new sc_calc.sobol_component("ID-Rutoken","Идентификатор Rutoken S (32 Kб)"),new sc_calc.sobol_component("USB-cable","USB-удлинитель (кабель)"),new sc_calc.sobol_component("kb-jumper","Перемычка для активации режима IPL"),new sc_calc.sobol_component("kb-kron-LP","Кронштейн (Low Profile)"),new sc_calc.sobol_component("kb-Mini-adapter","Адаптер для платы Mini PCI Express"),new sc_calc.sobol_component("MR-01","Коннектор на 20+4 PIN MR-01"),new sc_calc.sobol_component("kb-block","Устройство блокировки питания для механизма сторожевого таймера.")],sc_calc.sobol_dto=function(){"use strict";sc_calc.base_dto.call(this,"sc_calc.sobol_dto")},sc_calc.sobol_dto.prototype=Object.create(sc_calc.base_dto.prototype),sc_calc.sobol_dto.prototype.kind=sc_calc.const.sobol.KIND.NONE,sc_calc.sobol_dto.prototype.cert_type=sc_calc.const.sobol.CERT_TYPE.NONE,sc_calc.sobol_dto.prototype.platform=null,sc_calc.sobol_dto.prototype.token=null,sc_calc.sobol_dto.prototype.component=null,sc_calc.sobol_dto.prototype.support_type=sc_calc.SUPPORT_TYPES[1],sc_calc.sobol_dto.prototype.toString=function(){"use strict";return"[ "+["Тип: "+this.kind.substr(this.kind.lastIndexOf(".")+1),"Серт: "+this.cert_type.substr(this.cert_type.lastIndexOf(".")+1),"Плата: "+(this.platform||{code:" - "}).code,"Токен: "+(this.token||{code:" - "}).code,"Компонент: "+(this.component||{code:" - "}).code,"Техподдержка: "+this.support_type.shortname].join(" | ")+" ]"},sc_calc.sobol=function(){"use strict";var t,c;sc_calc.base_calc.call(this,sc_calc.CATEGORIES.DESKTOP),this.code="calc-sobol",this.name="ПАК Соболь",this.support_prefix="kb-sobol",this.kind=ko.observable(sc_calc.const.sobol.KIND.NEW),this.cert_type=ko.observable(sc_calc.const.sobol.CERT_TYPE.FSTEK),this.token=ko.observable(null),this.platform=ko.observable(null),this.component=ko.observable(null),this.q=ko.observable(1),this._restrict_value_as_positive_int(this.q),this.support=ko.observable(sc_calc.SUPPORT_TYPES[1]),this.tokens=ko.observableArray(sc_calc.sobol_tokens),this.platforms=ko.observableArray(sc_calc.sobol_platforms),this.components=ko.observableArray(sc_calc.sobol_components),this.is_menu1_visible=ko.computed(function(){return this.kind()===sc_calc.const.sobol.KIND.NEW},this),this.is_menu2_visible=ko.computed(function(){return!this.is_menu1_visible()},this),this.is_token_disabled=function(t){var c=this.cert_type(),e=this.platform();return c===sc_calc.const.sobol.CERT_TYPE.FSTEK&&"iButton-DS-1994"===t.code||!(c!==sc_calc.const.sobol.CERT_TYPE.FSB||!e||"Mini-PCI-Express"!==e.code||"iButton-DS-1994"!==t.code)},this.is_platform_disabled=function(t){return this.cert_type()===sc_calc.const.sobol.CERT_TYPE.FSB&&"Mini-PCI-Express-Half-Size"===t.code},this._price_numeric=ko.computed(this._get_price_numeric,this),this.price=ko.computed(this._get_price,this),this.is_ready_to_dump=ko.computed(this._get_is_ready_to_dump,this),t=new sc_calc.visibilator(this.token,this.tokens,this.is_token_disabled.bind(this)),c=new sc_calc.visibilator(this.platform,this.platforms,this.is_platform_disabled.bind(this)),this.cert_type.subscribe(function(){t.recalc_visibility(),c.recalc_visibility()},this),this.platform.subscribe(function(){t.recalc_visibility()},this),t.recalc_visibility(),c.recalc_visibility()},sc_calc.sobol.prototype=Object.create(sc_calc.base_calc.prototype),sc_calc.sobol.prototype.dto_ctor=sc_calc.sobol_dto,sc_calc.sobol.prototype._sobol_q_to_lic_q=function(t){"use strict";return isNaN(t)||t<=0?"":t<=49?"1-49":t<=249?"50-249":t<=499?"250-499":t<=1e3?"500-1000":">1000"},sc_calc.sobol.prototype._k_code=function(t){"use strict";var c={},e={},s={},n={},_={},i={},o={},r={},a={},l={},p=null;if(c[sc_calc.const.sobol.CERT_TYPE.FSTEK]=e,c[sc_calc.const.sobol.CERT_TYPE.FSB]=s,e[sc_calc.sobol_platforms.PCI.code]=n,e[sc_calc.sobol_platforms.PCI_E.code]=_,e[sc_calc.sobol_platforms.MINI_PCI_E.code]=i,e[sc_calc.sobol_platforms.HALF_MINI.code]=o,s[sc_calc.sobol_platforms.PCI.code]=r,s[sc_calc.sobol_platforms.PCI_E.code]=a,s[sc_calc.sobol_platforms.MINI_PCI_E.code]=l,p=sc_calc.sobol_tokens.NONE.code,n[p]=" k1",r[p]=" k2",_[p]=" k3",a[p]=" k4",i[p]=" k27",l[p]=" k41",o[p]=" k35",p=sc_calc.sobol_tokens.IDS_1992.code,n[p]=" k9",r[p]=" k10",_[p]=" k11",a[p]=" k12",i[p]=" k28",l[p]=" k42",o[p]=" k36",p=sc_calc.sobol_tokens.IDS_1994.code,r[p]=" k33",a[p]=" k34",p=sc_calc.sobol_tokens.IDS_1995.code,n[p]=" k5",r[p]=" k6",_[p]=" k7",a[p]=" k8",i[p]=" k29",l[p]=" k43",o[p]=" k37",p=sc_calc.sobol_tokens.IDS_1996.code,n[p]=" k13",r[p]=" k14",_[p]=" k15",a[p]=" k16",i[p]=" k30",l[p]=" k44",o[p]=" k38",p=sc_calc.sobol_tokens.RUTOKEN.code,n[p]=" k21",r[p]=" k22",_[p]=" k23",a[p]=" k24",i[p]=" k31",l[p]=" k45",o[p]=" k39",p=sc_calc.sobol_tokens.ETOKEN.code,n[p]=" k25",r[p]=" k48",_[p]=" k26",a[p]=" k50",i[p]=" k32",l[p]=" k46",o[p]=" k40",!this._has_valid_dto_property(t,"platform"))return this.SPOILER;try{return c[t.cert_type][t.platform.code][t.token.code]}catch(t){return this.SPOILER}},sc_calc.sobol.prototype._sobol_code=function(t,c){"use strict";var e;return t.kind!==sc_calc.const.sobol.KIND.NEW?this.SPOILER:(e="kb-sobol 3.0",e+=this._k_code(t),e+=" v1",this._has_valid_dto_property(t,"token")&&t.token.code!==sc_calc.sobol_tokens.IDS_1994.code&&(e+="["+this._sobol_q_to_lic_q(c)+"]"),e+="-SP1Y")},sc_calc.sobol.prototype._component_code=function(t,c){"use strict";return t.kind!==sc_calc.const.sobol.KIND.COMPONENTS?this.SPOILER:this._has_valid_dto_property(t,"component")?t.component.code:this.SPOILER},sc_calc.sobol.prototype._calculate_items=function(t,c){"use strict";var e,s,n,i,o=[];return chai.expect(arguments).to.be.lengthOf(2),chai.expect(t).to.be.an.instanceOf(sc_calc.sobol_dto),s=this._prepare_item(this._sobol_code.bind(this),sc_calc.LICENSES,t,c),n=this._prepare_item(this._component_code.bind(this),sc_calc.LICENSES,t,c),null!==n&&(n.has_support=!1),o=[s,n],o=_.filter(o,this._not_null_or_undefined),t.support_type&&(e=_.chain(o).filter(["has_support",!0]).map("sum").sum().value(),null!==(i=this._prepare_emit_support(t.support_type.code,e))&&null!==s&&(i.depends_upon.push(s.id),o.push(i))),o},sc_calc.sobol.prototype._emit_items=function(){"use strict";var t=this.q(),c=new sc_calc.sobol_dto;return c.kind=this.kind(),c.cert_type=this.cert_type(),c.platform=this.platform(),c.token=this.token(),c.component=this.component(),c.support_type=this.support(),this._calculate_items(c,t)},"undefined"==typeof sc_calc&&(sc_calc={}),void 0===sc_calc.const&&(sc_calc.const={}),sc_calc.const.jinn={},sc_calc.const.jinn.PRODUCT={NONE:"sc_calc.const.jinn.PRODUCT.NONE",CLIENT:"sc_calc.const.jinn.PRODUCT.CLIENT",SERVER:"sc_calc.const.jinn.PRODUCT.SERVER"},sc_calc.const.jinn.CERT_LEVEL={NONE:"sc_calc.const.jinn.CERT_LEVEL.NONE",KS1:"sc_calc.const.jinn.CERT_LEVEL.KS1",KS2:"sc_calc.const.jinn.CERT_LEVEL.KS2"},sc_calc.const.jinn.CRYPTO_SERVER={NONE:"sc_calc.const.jinn.CRYPTO_SERVER.NONE",SOFT:"sc_calc.const.jinn.CRYPTO_SERVER.SOFT",HARD:"sc_calc.const.jinn.CRYPTO_SERVER.HARD"},sc_calc.const.jinn.KIND={NONE:"sc_calc.const.jinn.KIND.NONE",NEW:"sc_calc.const.jinn.KIND.NEW",UPGRADE:"sc_calc.const.jinn.KIND.UPGRADE"},sc_calc.const.jinn.SOCKET={NONE:"sc_calc.const.jinn.SOCKET.NONE",PCI:"sc_calc.const.jinn.SOCKET.PCI",PCI_E:"sc_calc.const.jinn.SOCKET.PCI_E"},sc_calc.const.jinn.CHECKS={NONE:"sc_calc.const.jinn.CHECKS.NONE",UNLIMITED:"sc_calc.const.jinn.CHECKS.UNLIMITED",C250:"sc_calc.const.jinn.CHECKS.C250",C200:"sc_calc.const.jinn.CHECKS.C200",C100:"sc_calc.const.jinn.CHECKS.C100"},sc_calc.const.jinn.PLATFORMS=[sc_calc.const.continent.platform.ipc1000.create_with_description("Интерфейсы:\r\n2x1000BASE-T"),sc_calc.const.continent.platform.ipc1000f.create_with_description("Интерфейсы:\r\n2x1000BASE-T\r\n1xGigabit  SFP\r\n10 Gigabit Ethernet"),sc_calc.const.continent.platform.ipc3000f.create_with_description("Интерфейсы:\r\n2x1000BASE-T\r\n1xGigabit SFP\r\n10 Gigabit Ethernet"),sc_calc.const.continent.platform.ipc3008.create_with_description("Интерфейсы:\r\n2x1000BASE-T")],sc_calc.jinn_dto=function(){"use strict";sc_calc.base_dto.call(this,"sc_calc.jinn_dto")},sc_calc.jinn_dto.prototype=Object.create(sc_calc.base_dto.prototype),sc_calc.jinn_dto.prototype.product=sc_calc.const.jinn.PRODUCT.NONE,sc_calc.jinn_dto.prototype.cert_level=sc_calc.const.jinn.CERT_LEVEL.NONE,sc_calc.jinn_dto.prototype.is_unlim=!1,sc_calc.jinn_dto.prototype.crypto_server=sc_calc.const.jinn.CRYPTO_SERVER.NONE,sc_calc.jinn_dto.prototype.kind=sc_calc.const.jinn.KIND.NONE,sc_calc.jinn_dto.prototype.socket=sc_calc.const.jinn.SOCKET.NONE,sc_calc.jinn_dto.prototype.checks=sc_calc.const.jinn.CHECKS.NONE,sc_calc.jinn_dto.prototype.platform=null,sc_calc.jinn_dto.prototype.support_type=sc_calc.SUPPORT_TYPES[1],sc_calc.jinn_dto.prototype.toString=function(){"use strict";return"[ "+["Продукт: "+this._last_part(this.product),"Класс защиты: "+this._last_part(this.cert_level),"Неогр.проверки: "+this.is_unlim,"Тип: "+this._last_part(this.crypto_server),"Вариант: "+this._last_part(this.kind),"Разъем: "+this._last_part(this.socket),"Проверки: "+this._last_part(this.checks),"Платформа: "+(this.platform||{code:""}).code,"Техподдержка: "+this.support_type.shortname].join(" | ")+" ]"},sc_calc.jinn=function(){"use strict";var t;sc_calc.base_calc.call(this,sc_calc.CATEGORIES.DESKTOP),this.code="calc-jinn",this.name="Jinn",this.support_prefix="Jinn",this.product=ko.observable(sc_calc.const.jinn.PRODUCT.CLIENT),this.cert_level=ko.observable(sc_calc.const.jinn.CERT_LEVEL.KS1),this.q=ko.observable(1),this._restrict_value_as_positive_int(this.q),this.is_unlim=ko.observable(!1),this.crypto_server=ko.observable(sc_calc.const.jinn.CRYPTO_SERVER.NONE),this.kind=ko.observable(sc_calc.const.jinn.KIND.NONE),this.socket=ko.observable(sc_calc.const.jinn.SOCKET.NONE),this.checks=ko.observable(sc_calc.const.jinn.CHECKS.NONE),this.platform=ko.observable(sc_calc.const.jinn.PLATFORMS[0]),this.support=ko.observable(sc_calc.SUPPORT_TYPES[1]),this.is_client_selected=ko.computed(function(){return this.product()===sc_calc.const.jinn.PRODUCT.CLIENT},this),this.is_server_selected=ko.computed(function(){return this.product()===sc_calc.const.jinn.PRODUCT.SERVER},this),this.is_soft=ko.computed(function(){return this.is_server_selected()&&this.crypto_server()===sc_calc.const.jinn.CRYPTO_SERVER.SOFT},this),this.is_hard=ko.computed(function(){return this.is_server_selected()&&this.crypto_server()===sc_calc.const.jinn.CRYPTO_SERVER.HARD},this),this.platforms=ko.observableArray(sc_calc.const.jinn.PLATFORMS),this.is_platform_disabled=function(t){var c=this.checks(),e=sc_calc.const.continent.platform,s=[e.ipc3000f,e.ipc3008],n=_.some(s,["code",t.code]);return c===sc_calc.const.jinn.CHECKS.UNLIMITED!==n},this._price_numeric=ko.computed(this._get_price_numeric,this),this.price=ko.computed(this._get_price,this),this.is_ready_to_dump=ko.computed(this._get_is_ready_to_dump,this),this.product.subscribe(function(t){switch(t){case sc_calc.const.jinn.PRODUCT.CLIENT:this.cert_level(sc_calc.const.jinn.CERT_LEVEL.KS1),this.is_unlim(!1),this.q(1),this.crypto_server=ko.observable(sc_calc.const.jinn.CRYPTO_SERVER.NONE),this.kind(sc_calc.const.jinn.KIND.NONE),this.socket(sc_calc.const.jinn.SOCKET.NONE),this.checks(sc_calc.const.jinn.CHECKS.NONE),this.platform(null);break;case sc_calc.const.jinn.PRODUCT.SERVER:this.cert_level(sc_calc.const.jinn.CERT_LEVEL.NONE),this.is_unlim(!1),this.q(1),this.crypto_server(sc_calc.const.jinn.CRYPTO_SERVER.SOFT),this.kind(sc_calc.const.jinn.KIND.NEW),this.socket(sc_calc.const.jinn.SOCKET.PCI),this.checks(sc_calc.const.jinn.CHECKS.NEW),this.platform(null)}},this),this.crypto_server.subscribe(function(t){switch(t){case sc_calc.const.jinn.CRYPTO_SERVER.SOFT:this.kind(sc_calc.const.jinn.KIND.NEW);break;case sc_calc.const.jinn.CRYPTO_SERVER.HARD:this.kind(sc_calc.const.jinn.KIND.NONE);break;case sc_calc.const.jinn.CRYPTO_SERVER.NONE:this.kind(sc_calc.const.jinn.KIND.NONE)}},this),this.checks.subscribe(function(){t.recalc_visibility()}),t=new sc_calc.visibilator(this.platform,this.platforms,this.is_platform_disabled.bind(this)),t.recalc_visibility()},sc_calc.jinn.prototype=Object.create(sc_calc.base_calc.prototype),sc_calc.jinn.prototype.dto_ctor=sc_calc.jinn_dto,sc_calc.jinn.prototype._jinn_q_to_lic_q=function(t){"use strict";return isNaN(t)||t<=0?"":t<=10?"1-10":t<=100?"11-100":t<=1e3?"101-1 000":t<=1e4?"1 001-10 000":t<=5e4?"10 001-50 000":t<=1e5?"50 001-100 000":"100 001"},sc_calc.jinn.prototype._q_infix=function(t,c){"use strict";return this._has_valid_dto_property(t,"is_unlim")?t.is_unlim?"unlim":this._jinn_q_to_lic_q(c):this.SPOILER},sc_calc.jinn.prototype._infix_by_cert_level=function(t){"use strict";switch(t){case sc_calc.const.jinn.CERT_LEVEL.KS1:return"";case sc_calc.const.jinn.CERT_LEVEL.KS2:return"-SB"}},sc_calc.jinn.prototype._infix_by_checks=function(t){"use strict";switch(t){case sc_calc.const.jinn.CHECKS.NONE:return this.SPOILER;case sc_calc.const.jinn.CHECKS.UNLIMITED:return"";case sc_calc.const.jinn.CHECKS.C250:return"-250 000";case sc_calc.const.jinn.CHECKS.C200:return"-200 000";case sc_calc.const.jinn.CHECKS.C100:return"-100 000"}return this.SPOILER},sc_calc.jinn.prototype._infix_by_checks2=function(t){"use strict";switch(t){case sc_calc.const.jinn.CHECKS.NONE:return this.SPOILER;case sc_calc.const.jinn.CHECKS.UNLIMITED:return"Unlim";case sc_calc.const.jinn.CHECKS.C250:return"250";case sc_calc.const.jinn.CHECKS.C200:return"200";case sc_calc.const.jinn.CHECKS.C100:return"100"}return this.SPOILER},sc_calc.jinn.prototype._infix_by_socket=function(t){"use strict";switch(t){case sc_calc.const.jinn.SOCKET.PCI:return"";case sc_calc.const.jinn.SOCKET.PCI_E:return"E";case sc_calc.const.jinn.SOCKET.NONE:return""}return this.SPOILER},sc_calc.jinn.prototype._infix_by_kind=function(t){"use strict";switch(t){case sc_calc.const.jinn.KIND.NEW:return"";case sc_calc.const.jinn.KIND.UPGRADE:return"R";case sc_calc.const.jinn.KIND.NONE:return""}return this.SPOILER},sc_calc.jinn.prototype._client_code=function(t,c){"use strict";if(!this._has_valid_dto_property(t,"product"))return this.SPOILER;switch(t.product){case sc_calc.const.jinn.PRODUCT.CLIENT:return"Jinn-Client"+this._infix_by_cert_level(t.cert_level)+"-1.0-["+this._q_infix(t,c)+"]-SP1Y";case sc_calc.const.jinn.PRODUCT.SERVER:switch(t.crypto_server){case sc_calc.const.jinn.CRYPTO_SERVER.SOFT:return"Jinn-Server-1.0"+this._infix_by_checks(t.checks)+"-"+this._infix_by_kind(t.kind)+"pak"+this._infix_by_socket(t.socket)+"-SP1Y";case sc_calc.const.jinn.CRYPTO_SERVER.HARD:return this._has_valid_dto_property(t,"platform")?"HSEC-1.0-"+t.platform.code+"-KS"+this._infix_by_checks2(t.checks)+"-SP1Y":this.SPOILER}}return this.SPOILER},sc_calc.jinn.prototype._disk_code=function(t,c){"use strict";switch(t.product){case sc_calc.const.jinn.PRODUCT.CLIENT:return"Jinn-Client"+this._infix_by_cert_level(t.cert_level)+"-1.0-Disk"}return this.SPOILER},sc_calc.jinn.prototype._additional_codes=function(t,c){"use strict"
;var e,s=sc_calc.const.continent.platform,n=["HSEC-1.0-IPC1000-CL-SP1Y","HSEC-1.0-IPC100-AR-SP1Y"],_=["HSEC-1.0-IPC1000F-CL-SP1Y","HSEC-1.0-IPC100-AR-SP1Y"];return this._has_valid_dto_property(t,"product")&&this._has_valid_dto_property(t,"crypto_server")&&this._has_valid_dto_property(t,"platform")?t.product!==sc_calc.const.jinn.PRODUCT.SERVER||t.crypto_server!==sc_calc.const.jinn.CRYPTO_SERVER.HARD?[]:(e={},e[s.ipc1000.code]=n,e[s.ipc1000f.code]=_,e[s.ipc3008.code]=n,e[s.ipc3000f.code]=_,e[t.platform.code]||[]):[]},sc_calc.jinn.prototype._calculate_items=function(t,c){"use strict";var e,s,n,i,o=[],r=[];return chai.expect(arguments).to.be.lengthOf(2),chai.expect(t).to.be.an.instanceOf(sc_calc.jinn_dto),s=this._prepare_item(this._client_code.bind(this),sc_calc.LICENSES,t,c),null!==s&&(r=_.map(this._additional_codes(t),function(t){var e=this._prepare_usual(sc_calc.LICENSES,t,c);return s.q.subscribe(function(t){e.q(t),"function"==typeof e.sum?e.sum(e.price()*t):e.sum=e.price*t},this),e}.bind(this))),n=this._prepare_item(this._disk_code.bind(this),sc_calc.LICENSES,t,c),null!==s&&(null!==n&&(n.depends_upon.push(s.id),n.recalculate=null,n.can_delete=!1,n.has_support=!1),null!==r&&_.forEach(r,function(t){t.depends_upon.push(s.id),t.can_delete=!1})),o=_.concat([s,n],r),o=_.filter(o,this._not_null_or_undefined),t.support_type&&(e=_.chain(o).filter(["has_support",!0]).map("sum").sum().value(),null!==(i=this._prepare_emit_support(t.support_type.code,e))&&null!==s&&(i.depends_upon.push(s.id),o.push(i))),o},sc_calc.jinn.prototype._emit_items=function(){"use strict";var t=this.q(),c=new sc_calc.jinn_dto;return c.product=this.product(),c.cert_level=this.cert_level(),c.is_unlim=this.is_unlim(),c.crypto_server=this.crypto_server(),c.kind=this.kind(),c.socket=this.socket(),c.checks=this.checks(),c.platform=this.platform(),c.support_type=this.support(),this._calculate_items(c,t)},sc_calc.jinn.prototype.adopt=function(t){"use strict";this.product(t.product),this.crypto_server(t.crypto_server),this.cert_level(t.cert_level),this.is_unlim(t.is_unlim),this.kind(t.kind),this.socket(t.socket),this.checks(t.checks),this.platform(t.platform),this.support(t.support_type)},"undefined"==typeof sc_calc&&(sc_calc={}),void 0===sc_calc.const&&(sc_calc.const={}),sc_calc.const.vgate={},sc_calc.const.vgate.KIND={NONE:"sc_calc.const.vgate.KIND.NONE",NEW:"sc_calc.const.vgate.KIND.NEW",UPGRADE:"sc_calc.const.vgate.KIND.UPGRADE",INCREASE:"sc_calc.const.vgate.KIND.INCREASE"},sc_calc.const.vgate.TARGET={NONE:"sc_calc.const.vgate.TARGET.NONE",PRIVATE:"sc_calc.const.vgate.TARGET.PRIVATE",STATE:"sc_calc.const.vgate.TARGET.STATE"},sc_calc.const.vgate.obj_wrapper=function(t,c){"use strict";this.code=t,this.name=c},sc_calc.const.vgate.PLATFORM={NONE:new sc_calc.const.vgate.obj_wrapper("sc_calc.const.vgate.PLATFORM.NONE",""),VSPHERE:new sc_calc.const.vgate.obj_wrapper("sc_calc.const.vgate.PLATFORM.VSPHERE","vSphere"),HYPERV:new sc_calc.const.vgate.obj_wrapper("sc_calc.const.vgate.PLATFORM.HYPERV","hyperV")},sc_calc.const.vgate.LIC_TYPE={NONE:new sc_calc.const.vgate.obj_wrapper("sc_calc.const.vgate.LIC_TYPE.NONE",""),STANDARD:new sc_calc.const.vgate.obj_wrapper("sc_calc.const.vgate.LIC_TYPE.STANDARD","Standard"),ENTERPRISE:new sc_calc.const.vgate.obj_wrapper("sc_calc.const.vgate.LIC_TYPE.ENTERPRISE","Enterprise")},sc_calc.const.vgate.INCREASE_FROM={NONE:"sc_calc.const.vgate.INCREASE_FROM.NONE",VGATE_2:"sc_calc.const.vgate.INCREASE_FROM.VGATE_2",VGATE_S_2:"sc_calc.const.vgate.INCREASE_FROM.VGATE_S_2",VGATE_3:"sc_calc.const.vgate.INCREASE_FROM.VGATE_3",VGATE_S_3:"sc_calc.const.vgate.INCREASE_FROM.VGATE_S_3"},sc_calc.vgate_dto=function(){"use strict";sc_calc.base_dto.call(this,"sc_calc.vgate_dto")},sc_calc.vgate_dto.prototype=Object.create(sc_calc.base_dto.prototype),sc_calc.vgate_dto.prototype.kind=sc_calc.const.vgate.KIND.NONE,sc_calc.vgate_dto.prototype.target=sc_calc.const.vgate.TARGET.NONE,sc_calc.vgate_dto.prototype.platform=sc_calc.const.vgate.PLATFORM.NONE,sc_calc.vgate_dto.prototype.lic_type=sc_calc.const.vgate.LIC_TYPE.NONE,sc_calc.vgate_dto.prototype.increase_from=sc_calc.const.vgate.INCREASE_FROM.NONE,sc_calc.vgate_dto.prototype.support_type=sc_calc.SUPPORT_TYPES[1],sc_calc.vgate_dto.prototype.toString=function(){"use strict";return"[ "+["Тип: "+this._last_part(this.kind),"Цель: "+this._last_part(this.target),"Платформа: "+this._last_part(this.platform.code),"Лицензия: "+this._last_part(this.lic_type.code),"Повышение с: "+this._last_part(this.increase_from),"Техподдержка: "+this.support_type.shortname].join(" | ")+" ]"},sc_calc.vgate=function(){"use strict";var t,c;sc_calc.base_calc.call(this,sc_calc.CATEGORIES.VIRTUAL),this.code="calc-vgate",this.name="vGate",this.support_prefix="vGate",this.kind=ko.observable(sc_calc.const.vgate.KIND.NEW),this.target=ko.observable(sc_calc.const.vgate.TARGET.PRIVATE),this.platform=ko.observable(sc_calc.const.vgate.PLATFORM.VSPHERE),this.lic_type=ko.observable(sc_calc.const.vgate.LIC_TYPE.STANDARD),this.increase_from=ko.observable(sc_calc.const.vgate.INCREASE_FROM.NONE),this.q=ko.observable(1),this._restrict_value_as_positive_int(this.q),this.support=ko.observable(sc_calc.SUPPORT_TYPES[1]),this.platforms=ko.observableArray([sc_calc.const.vgate.PLATFORM.VSPHERE,sc_calc.const.vgate.PLATFORM.HYPERV]),this.lic_types=ko.observableArray([sc_calc.const.vgate.LIC_TYPE.STANDARD,sc_calc.const.vgate.LIC_TYPE.ENTERPRISE]),this.is_target_visible=ko.computed(function(){return this.kind===sc_calc.const.vgate.KIND.NEW||this.kind===sc_calc.const.vgate.KIND.UPGRADE},this),this.is_increase_from_visible=ko.computed(function(){return this.kind===sc_calc.const.vgate.KIND.INCREASE},this),this.is_platform_disabled=function(t){var c=this.target(),e=this.increase_from();return(c===sc_calc.const.vgate.TARGET.STATE||e===sc_calc.const.vgate.INCREASE_FROM.VGATE_S_2||e===sc_calc.const.vgate.INCREASE_FROM.VGATE_S_3)&&t===sc_calc.const.vgate.PLATFORM.HYPERV},this.is_lic_type_disabled=function(t){return this.kind()===sc_calc.const.vgate.KIND.INCREASE&&t===sc_calc.const.vgate.LIC_TYPE.STANDARD},this._price_numeric=ko.computed(this._get_price_numeric,this),this.price=ko.computed(this._get_price,this),this.is_ready_to_dump=ko.computed(this._get_is_ready_to_dump,this),t=new sc_calc.visibilator(this.platform,this.platforms,this.is_platform_disabled.bind(this)),c=new sc_calc.visibilator(this.lic_type,this.lic_types,this.is_lic_type_disabled.bind(this)),this.kind.subscribe(function(){this.increase_from(sc_calc.const.vgate.INCREASE_FROM.NONE),c.recalc_visibility()},this),this.target.subscribe(function(){t.recalc_visibility()},this),t.recalc_visibility(),c.recalc_visibility()},sc_calc.vgate.prototype=Object.create(sc_calc.base_calc.prototype),sc_calc.vgate.prototype.dto_ctor=sc_calc.vgate_dto,sc_calc.vgate.prototype._vgate_q_to_lic_q=function(t){"use strict";return isNaN(t)||t<=0?"":t<=24?"1-24":t<=99?"25-99":t<=249?"100-249":t<=499?"250-499":">=500"},sc_calc.vgate.prototype._infix_by_lic_type=function(t){"use strict";switch(t){case sc_calc.const.vgate.LIC_TYPE.STANDARD:return"Std";case sc_calc.const.vgate.LIC_TYPE.ENTERPRISE:return"Ent"}return this.SPOILER},sc_calc.vgate.prototype._infix_by_kind=function(t){"use strict";switch(t){case sc_calc.const.vgate.KIND.NEW:return"";case sc_calc.const.vgate.KIND.UPGRADE:return"-RN30"}return this.SPOILER},sc_calc.vgate.prototype._infix_by_platform=function(t){"use strict";switch(t){case sc_calc.const.vgate.PLATFORM.VSPHERE:return"ESX";case sc_calc.const.vgate.PLATFORM.HYPERV:return"HV"}return this.SPOILER},sc_calc.vgate.prototype._infix_by_increase_from=function(t){"use strict";switch(t){case sc_calc.const.vgate.INCREASE_FROM.VGATE_2:case sc_calc.const.vgate.INCREASE_FROM.VGATE_S_2:return"-RN30-Upg";case sc_calc.const.vgate.INCREASE_FROM.VGATE_3:case sc_calc.const.vgate.INCREASE_FROM.VGATE_S_3:return"-Upg"}return this.SPOILER},sc_calc.vgate.prototype._server_code=function(t,c){"use strict";return t.kind===sc_calc.const.vgate.KIND.INCREASE?"VGV-SA"+this._infix_by_increase_from(t.increase_from)+"-SP1Y":"VGV-SA-"+this._infix_by_lic_type(t.lic_type)+this._infix_by_kind(t.kind)+"-SP1Y"},sc_calc.vgate.prototype._lic_code=function(t,c){"use strict";return t.kind===sc_calc.const.vgate.KIND.NEW||t.kind===sc_calc.const.vgate.KIND.UPGRADE&&t.lic_type===sc_calc.const.vgate.LIC_TYPE.STANDARD||t.kind===sc_calc.const.vgate.KIND.INCREASE&&t.lic_type===sc_calc.const.vgate.LIC_TYPE.ENTERPRISE?t.kind===sc_calc.const.vgate.KIND.INCREASE?"VGV-"+this._infix_by_platform(t.platform)+this._infix_by_increase_from(t.increase_from)+"["+this._vgate_q_to_lic_q(c)+"]-SP1Y":"VGV-"+this._infix_by_platform(t.platform)+"-"+this._infix_by_lic_type(t.lic_type)+this._infix_by_kind(t.kind)+"["+this._vgate_q_to_lic_q(c)+"]-SP1Y":this.SPOILER},sc_calc.vgate.prototype._disc_code=function(t,c){"use strict";switch(t.kind){case sc_calc.const.vgate.KIND.NEW:return"VGV-R2-DISC";case sc_calc.const.vgate.KIND.UPGRADE:switch(t.lic_type){case sc_calc.const.vgate.LIC_TYPE.STANDARD:return"VGV-R2-DISC"}break;case sc_calc.const.vgate.KIND.INCREASE:return"VGV-R2-DISC"}return this.SPOILER},sc_calc.vgate.prototype._raw_items=function(t,c){"use strict";var e,s,n;return chai.expect(arguments).to.be.lengthOf(2),chai.expect(t).to.be.an.instanceOf(sc_calc.vgate_dto),e=this._prepare_item(this._server_code.bind(this),sc_calc.LICENSES,t,1),s=this._prepare_item(this._lic_code.bind(this),sc_calc.LICENSES,t,c),n=this._prepare_item(this._disc_code.bind(this),sc_calc.LICENSES,t,1),null!==e&&(e.recalculate=null,null!==n&&(n.has_support=!1,n.depends_upon.push(e.id),n.can_delete=!1,n.recalculate=null),null!==s&&(s.depends_upon.push(e.id),s.can_delete=!1,s.recalculate=null)),[e,s,n]},sc_calc.vgate.prototype._supp=function(t,c,e){"use strict";var s,n,i,o;return i=_.clone(t),i.kind=sc_calc.const.vgate.KIND.NEW,o=this._raw_items(i,c),o[o.length-1],o=_.filter(o,this._not_null_or_undefined),s=_.chain(o).filter(["has_support",!0]).map("sum").sum().value(),n=this._prepare_emit_support(t.support_type.code,s),null!==n&&null!==e?(n.depends_upon.push(e.id),n):null},sc_calc.vgate.prototype._calculate_items=function(t,c){"use strict";var e,s,n=[],i=[];return chai.expect(arguments).to.be.lengthOf(2),chai.expect(t).to.be.an.instanceOf(sc_calc.vgate_dto),i=this._raw_items(t,c),e=i[0],n=_.filter(i,this._not_null_or_undefined),t.support_type&&(s=this._supp(t,c,e))&&n.push(s),n},sc_calc.vgate.prototype._emit_items=function(){"use strict";var t=this.q(),c=new sc_calc.vgate_dto;return c.kind=this.kind(),c.target=this.target(),c.platform=this.platform(),c.lic_type=this.lic_type(),c.increase_from=this.increase_from(),c.support_type=this.support(),this._calculate_items(c,t)},"undefined"==typeof sc_calc&&(sc_calc={}),void 0===sc_calc.const&&(sc_calc.const={}),sc_calc.const.sns={},sc_calc.const.sns.SET={NONE:"sc_calc.const.sns.SET.NONE",MAXIMUM:"sc_calc.const.sns.SET.MAXIMUM",OPTIMUM:"sc_calc.const.sns.SET.OPTIMUM",CONSTANT:"sc_calc.const.sns.SET.CONSTANT",ADDITIONAL:"sc_calc.const.sns.SET.ADDITIONAL"},sc_calc.const.sns.COMPONENT={NSD:"sc_calc.const.sns.COMPONENT.NSD",CONTROL:"sc_calc.const.sns.COMPONENT.CONTROL",DCR:"sc_calc.const.sns.COMPONENT.DCR",FIREWALL:"sc_calc.const.sns.COMPONENT.FIREWALL",AVIR:"sc_calc.const.sns.COMPONENT.AVIR",IPS:"sc_calc.const.sns.COMPONENT.IPS",TRAFFIC:"sc_calc.const.sns.COMPONENT.TRAFFIC"},sc_calc.const.sns.SET2COMPONENT={},sc_calc.const.sns.SET2COMPONENT[sc_calc.const.sns.SET.NONE]=[],sc_calc.const.sns.SET2COMPONENT[sc_calc.const.sns.SET.MAXIMUM]=[sc_calc.const.sns.COMPONENT.NSD,sc_calc.const.sns.COMPONENT.CONTROL,sc_calc.const.sns.COMPONENT.DCR,sc_calc.const.sns.COMPONENT.FIREWALL,sc_calc.const.sns.COMPONENT.AVIR,sc_calc.const.sns.COMPONENT.IPS],sc_calc.const.sns.SET2COMPONENT[sc_calc.const.sns.SET.OPTIMUM]=[sc_calc.const.sns.COMPONENT.NSD,sc_calc.const.sns.COMPONENT.CONTROL,sc_calc.const.sns.COMPONENT.AVIR,sc_calc.const.sns.COMPONENT.IPS],sc_calc.const.sns.SET2COMPONENT[sc_calc.const.sns.SET.CONSTANT]=[sc_calc.const.sns.COMPONENT.NSD,sc_calc.const.sns.COMPONENT.CONTROL,sc_calc.const.sns.COMPONENT.DCR,sc_calc.const.sns.COMPONENT.FIREWALL],sc_calc.const.sns.SET2COMPONENT[sc_calc.const.sns.SET.ADDITIONAL]=[sc_calc.const.sns.COMPONENT.AVIR,sc_calc.const.sns.COMPONENT.IPS],sc_calc.const.sns.STATE={ON:"sc_calc.const.sns.STATE.ON",BLOCKED:"sc_calc.const.sns.STATE.BLOCKED",OFF:"sc_calc.const.sns.STATE.OFF"},sc_calc.const.sns.obj_wrapper=function(t,c){"use strict";this.code=t,this.name=c},sc_calc.const.sns.TERM={ONE_YEAR:new sc_calc.const.sns.obj_wrapper("sc_calc.const.sns.TERM.ONE_YEAR","Один год"),INFINITE:new sc_calc.const.sns.obj_wrapper("sc_calc.const.sns.TERM.INFINITE","Бессрочно")},sc_calc.sns_dto=function(){"use strict";sc_calc.base_dto.call(this,"sc_calc.sns_dto"),this.components=[]},sc_calc.sns_dto.prototype=Object.create(sc_calc.base_dto.prototype),sc_calc.sns_dto.prototype.set=null,sc_calc.sns_dto.prototype.components=null,sc_calc.sns_dto.prototype.term=sc_calc.const.sns.TERM.ONE_YEAR,sc_calc.sns_dto.prototype.support_type=sc_calc.SUPPORT_TYPES[1],sc_calc.sns_dto.prototype.toString=function(){"use strict";return"[ "+["Набор: "+this._last_part(this.set),"Срок: "+this.term.name,"Компоненты: "+_.map(this.components,this._last_part.bind(this)).join("+"),"Техподдержка: "+this.support_type.shortname].join(" | ")+" ]"},sc_calc.sns=function(){"use strict";var t;sc_calc.base_calc.call(this,sc_calc.CATEGORIES.DESKTOP),this.code="calc-sns",this.name="Secret Net Studio",this.support_prefix="SNS",this.set=ko.observable(sc_calc.const.sns.SET.NONE),this.components=ko.observableArray([]),this.term=ko.observable(sc_calc.const.sns.TERM.ONE_YEAR),this.q=ko.observable(1),this._restrict_value_as_positive_int(this.q),this.support=ko.observable(sc_calc.SUPPORT_TYPES[1]),this.terms=ko.observableArray([sc_calc.const.sns.TERM.ONE_YEAR,sc_calc.const.sns.TERM.INFINITE]),this._add_control_if_we_have_nsd=function(){var t=this.components();_.includes(t,sc_calc.const.sns.COMPONENT.NSD)&&(_.includes(t,sc_calc.const.sns.COMPONENT.CONTROL)||this.components.push(sc_calc.const.sns.COMPONENT.CONTROL))},this._toggle_set=function(t){this.set()===t?this.set(sc_calc.const.sns.SET.NONE):(this.set(t),this.components(_.difference(this.components(),sc_calc.const.sns.SET2COMPONENT[t])))},_.forEach(_.keys(sc_calc.const.sns.SET),function(t){var c=t.toLowerCase(),e=sc_calc.const.sns.SET[t];this["is_selected_set_"+c]=ko.computed(function(){return this.set()===e},this),this["toggle_set_"+c]=function(){this._toggle_set(e)}}.bind(this)),this._is_component_active=function(t){var c,e=this.set();return e&&e!==sc_calc.const.sns.SET.NONE&&(c=_.includes(sc_calc.const.sns.SET2COMPONENT[e],t)),c||_.includes(this.components(),t)}.bind(this),this._get_component_state=function(t){return t===sc_calc.const.sns.COMPONENT.CONTROL&&this._is_component_active(sc_calc.const.sns.COMPONENT.NSD)?sc_calc.const.sns.STATE.BLOCKED:this._is_component_active(t)?sc_calc.const.sns.STATE.ON:sc_calc.const.sns.STATE.OFF}.bind(this),this.is_term_disabled=function(t){var c=this.set();if(c===sc_calc.const.sns.SET.NONE){if(t===sc_calc.const.sns.TERM.ONE_YEAR)return!1;if(t===sc_calc.const.sns.TERM.INFINITE)return this._is_component_active(sc_calc.const.sns.COMPONENT.AVIR)||this._is_component_active(sc_calc.const.sns.COMPONENT.IPS)}switch(c){case sc_calc.const.sns.SET.MAXIMUM:case sc_calc.const.sns.SET.OPTIMUM:case sc_calc.const.sns.SET.ADDITIONAL:return t===sc_calc.const.sns.TERM.INFINITE;case sc_calc.const.sns.SET.CONSTANT:return t===sc_calc.const.sns.TERM.ONE_YEAR}return!0},this._toggle_component=function(t,c){this._is_component_active(c)?_.includes(this.components(),c)?this["turn_off_"+t.toLowerCase()]():(this.need_warn_about_explode_set(!0),this.need_exclude_on_explode(c)):this["turn_on_"+t.toLowerCase()]()},_.forEach(_.keys(sc_calc.const.sns.COMPONENT),function(t){var c=t.toLowerCase(),e=sc_calc.const.sns.COMPONENT[t];this["get_state_"+c]=ko.computed(function(){return this._get_component_state(e)},this),this["is_active_"+c]=ko.computed(function(){return this["get_state_"+c].call()===sc_calc.const.sns.STATE.ON},this),this["is_blocked_"+c]=ko.computed(function(){return this["get_state_"+c].call()===sc_calc.const.sns.STATE.BLOCKED},this),this["turn_on_"+c]=function(){_.includes(this.components(),e)||this.components.push(e)},this["turn_off_"+c]=function(){_.includes(this.components(),e)&&this.components(_.difference(this.components(),[e]))},this["click_on_"+c]=function(){if(e===sc_calc.const.sns.COMPONENT.CONTROL){if(this._is_component_active(sc_calc.const.sns.COMPONENT.NSD))return;this._toggle_component(t,e)}else this._toggle_component(t,e)}}.bind(this)),this._matches_to_set=function(t,c){var e=sc_calc.const.sns.SET2COMPONENT[t],s=_.concat(this.components(),sc_calc.const.sns.SET2COMPONENT[this.set()||sc_calc.const.sns.SET.NONE]);return c===this.term()&&0===_.difference(e,s).length},this.matched_set=ko.computed(function(){if(this._matches_to_set(sc_calc.const.sns.SET.MAXIMUM,sc_calc.const.sns.TERM.ONE_YEAR)){if(this.set()===sc_calc.const.sns.SET.MAXIMUM)return;return sc_calc.const.sns.SET.MAXIMUM}if(this._matches_to_set(sc_calc.const.sns.SET.OPTIMUM,sc_calc.const.sns.TERM.ONE_YEAR)){if(this.set()===sc_calc.const.sns.SET.OPTIMUM)return;return sc_calc.const.sns.SET.OPTIMUM}if(this._matches_to_set(sc_calc.const.sns.SET.CONSTANT,sc_calc.const.sns.TERM.INFINITE)){if(this.set()===sc_calc.const.sns.SET.CONSTANT)return;return sc_calc.const.sns.SET.CONSTANT}if(this._matches_to_set(sc_calc.const.sns.SET.ADDITIONAL,sc_calc.const.sns.TERM.ONE_YEAR)){if(this.set()===sc_calc.const.sns.SET.ADDITIONAL)return;return sc_calc.const.sns.SET.ADDITIONAL}return null},this),this.need_warn_about_matched_set=ko.observable(!1),this.need_warn_about_explode_set=ko.observable(!1),this.need_exclude_on_explode=ko.observable(!1),this.matched_set.subscribe(function(t){t&&this.need_warn_about_matched_set(!0)},this),this.create_set_cancel=function(){this.need_warn_about_matched_set(!1)},this.create_set_ok=function(){var t;this.need_warn_about_matched_set(!1),t=this.matched_set(),this.set(t),this.components(_.difference(this.components(),sc_calc.const.sns.SET2COMPONENT[t]))},this.explode_set_cancel=function(){this.need_warn_about_explode_set(!1),this.need_exclude_on_explode(null)},this.explode_set_ok=function(){this.need_warn_about_explode_set(!1);var t=this.set(),c=sc_calc.const.sns.SET2COMPONENT[t],e=this.need_exclude_on_explode();this.set(sc_calc.const.sns.SET.NONE),_.forEach(c,function(t){t!==e&&this.components.push(t)}.bind(this))},this._price_numeric=ko.computed(this._get_price_numeric,this),this.price=ko.computed(this._get_price,this),this.is_ready_to_dump=ko.computed(this._get_is_ready_to_dump,this),this.set.subscribe(function(){t.recalc_visibility()}),this.components.subscribe(function(){this._add_control_if_we_have_nsd(),t.recalc_visibility()},this),t=new sc_calc.visibilator(this.term,this.terms,this.is_term_disabled.bind(this)),t.recalc_visibility()},sc_calc.sns.prototype=Object.create(sc_calc.base_calc.prototype),sc_calc.sns.prototype.dto_ctor=sc_calc.sns_dto,sc_calc.sns.prototype._sns_q_to_lic_q=function(t){"use strict";var c=this._asPositiveInt(t);return c<=0?this.SPOILER:c<=50?"BA":c<=100?"BB":c<=250?"BC":"BD"},sc_calc.sns.prototype._set_infix=function(t){"use strict";switch(t){case sc_calc.const.sns.SET.MAXIMUM:return"1";case sc_calc.const.sns.SET.OPTIMUM:return"2";case sc_calc.const.sns.SET.CONSTANT:return"3";case sc_calc.const.sns.SET.ADDITIONAL:return"4"}return this.SPOILER},sc_calc.sns.prototype._infix_by_term=function(t){"use strict";switch(t){case sc_calc.const.sns.TERM.ONE_YEAR:return"SB";case sc_calc.const.sns.TERM.INFINITE:return"NS";default:return this.SPOILER}},sc_calc.sns.prototype._set_code=function(t,c){"use strict";return this._has_valid_dto_property(t,"set")?t.set===sc_calc.const.sns.SET.NONE?this.SPOILER:"SNS-8.x-BC"+this._set_infix(t.set)+"-"+this._infix_by_term(t.term)+"-SP1Y-"+this._sns_q_to_lic_q(c):this.SPOILER},sc_calc.sns.prototype._infix_by_component=function(t){"use strict";switch(t){case sc_calc.const.sns.COMPONENT.NSD:return"NSD";case sc_calc.const.sns.COMPONENT.CONTROL:return"DEV";case sc_calc.const.sns.COMPONENT.DCR:return"DCR";case sc_calc.const.sns.COMPONENT.FIREWALL:return"PFW";case sc_calc.const.sns.COMPONENT.AVIR:return"AVE";case sc_calc.const.sns.COMPONENT.IPS:return"IPS";default:return this.SPOILER}},sc_calc.sns.prototype._component_code=function(t,c,e){"use strict";return this._has_valid_dto_property(c,"components")&&_.includes(c.components,t)&&(c.term!==sc_calc.const.sns.TERM.INFINITE||t!==sc_calc.const.sns.COMPONENT.AVIR&&t!==sc_calc.const.sns.COMPONENT.IPS)?"SNS-8.x-"+this._infix_by_component(t)+"-"+this._infix_by_term(c.term)+"-SP1Y-"+this._sns_q_to_lic_q(e):this.SPOILER},_.forEach(_.keys(sc_calc.const.sns.COMPONENT),function(t){"use strict";var c="_"+t.toLowerCase()+"_code";sc_calc.sns.prototype[c]=function(c,e){return this._component_code(sc_calc.const.sns.COMPONENT[t],c,e)}}),sc_calc.sns.prototype._disk_code=function(t,c){"use strict";return"SNS-8.x-DS-DS-NS0Y-BS"},sc_calc.sns.prototype._calculate_items=function(t,c){"use strict";var e,s,n,i,o,r,a,l,p,u,h,d,E;return chai.expect(arguments).to.be.lengthOf(2),chai.expect(t).to.be.an.instanceOf(sc_calc.sns_dto),n=function(e){return this._prepare_item(e,sc_calc.LICENSES,t,c)}.bind(this),o=n(this._set_code.bind(this)),r=n(this._nsd_code.bind(this)),a=n(this._control_code.bind(this)),l=n(this._dcr_code.bind(this)),p=n(this._firewall_code.bind(this)),u=n(this._avir_code.bind(this)),h=n(this._ips_code.bind(this)),d=n(this._disk_code.bind(this)),null!==o&&null!==d&&(d.depends_upon.push(o.id),d.can_delete=!1),e=[o,r,a,l,p,u,h,d],e=_.filter(e,this._not_null_or_undefined),i=_.map(_.difference(e,[d]),function(t){return t.id}),null!==d&&(_.forEach(i,function(t){d.depends_upon.push(t)}),d.has_support=!1),1===e.length&&e[0]===d&&(e=[]),t.support_type&&(s=_.chain(e).filter(["has_support",!0]).map("sum").sum().value(),null!==(E=this._prepare_emit_support(t.support_type.code,s))&&(_.forEach(i,function(t){E.depends_upon.push(t)}),e.push(E))),e},sc_calc.sns.prototype._emit_items=function(){"use strict";var t=this.q(),c=new sc_calc.sns_dto;return c.set=this.set(),c.components=this.components(),c.support_type=this.support(),c.term=this.term(),this._calculate_items(c,t)},"undefined"==typeof sc_calc&&(sc_calc={}),sc_calc.solution_dto_storage=function(){"use strict";function t(t){return t.split("=")}function c(t){return"session"===t[0]}var e,s=[];e=_.chain(document.location.search.substring(1).split("&amp")).map(t).find(c).value(),function(t){return void 0!==t&&null!==t}(e)&&function(t){var c=t[1];return window&&void 0!==window.localStorage&&null!==window.localStorage.getItem("solution-calc-data-"+c)}(e)&&(s=function(t){var c=t[1],e=window.localStorage.getItem("solution-calc-data-"+c);return JSON.parse(e)}(e)),this.get_data=function(){return s}},sc_calc.solution_loader=function(t,c,e,s,n,i,o,r,a){"use strict";var l=_.concat(_.values(n.children),[c,e,s,i,o,r,a]),p=function(t,c){return _.endsWith(c.__type,"."+t.dto_ctor.name)},u=function(t){var c=_.find(l,function(c){return p(c,t.dto)});void 0!==c&&(c.adopt(t.dto),c.q(t.q),c.notify_result())};this.do=function(){var c=t.get_data();_.forEach(c,u)}};
//# sourceMappingURL=app.js.map
